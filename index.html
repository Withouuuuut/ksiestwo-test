<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Księstwo Sushi — Menu</title>
  <style>
    :root {
      --bg: #0a0a0a;
      --card: #141414;
      --text: #e0e0e0;
      --muted: #888;
      --accent: #d4ff00; /* Lime / Neon Green */
      --accent-text: #0a0a0a;
      --border: #222;
      --font-main: "Helvetica Neue", Helvetica, Arial, sans-serif;
      --font-serif: "Times New Roman", serif;
      
      --ease: cubic-bezier(0.16, 1, 0.3, 1);
    }

    * { box-sizing: border-box; outline: none; }
    
    ::selection {
        background: var(--accent);
        color: var(--accent-text);
    }
    
    /* SCROLLBAR */
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--accent); }

    body {
      margin: 0;
      background-color: var(--bg);
      color: var(--text);
      font-family: var(--font-main);
      -webkit-font-smoothing: antialiased;
      overflow-x: hidden;
    }
    
    /* FILM GRAIN TEXTURE */
    body::before {
        content: "";
        position: fixed; inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
        pointer-events: none;
        z-index: 9999;
        mix-blend-mode: overlay;
    }

    .wrap {
      max-width: 900px;
      margin: 0 auto;
      padding: 120px 20px 100px 20px;
      position: relative;
      opacity: 0;
      animation: fadeIn 1s var(--ease) forwards;
    }
    
    @keyframes fadeIn {
        to { opacity: 1; }
    }

    /* --- HEADER --- */
    .header-fixed {
        position: fixed;
        top: 0; left: 0; right: 0;
        padding: 20px;
        display: flex; justify-content: space-between; align-items: flex-start;
        z-index: 100;
        transition: transform 0.5s var(--ease), opacity 0.5s var(--ease);
        pointer-events: none; /* Let clicks pass through empty areas */
    }
    .header-fixed.hidden {
        transform: translateY(-100%);
        opacity: 0;
    }
    .header-content {
        pointer-events: auto;
        display: flex; align-items: center; gap: 15px;
        background: rgba(20,20,20,0.8);
        backdrop-filter: blur(10px);
        padding: 8px 16px 8px 8px;
        border-radius: 50px;
        border: 1px solid var(--border);
    }

    .logo {
        width: 40px; height: 40px;
        background: var(--accent);
        color: var(--accent-text);
        display: flex; align-items: center; justify-content: center;
        font-weight: 900; font-size: 14px;
        border-radius: 50%;
    }
    .brand-text h1 { margin: 0; font-size: 16px; font-weight: 700; letter-spacing: -0.02em; color: #fff; }
    .brand-text .sub { font-size: 12px; color: var(--muted); }

    /* --- LANG SWITCH --- */
    .lang-switch {
        pointer-events: auto;
        display: flex; gap: 5px;
        background: rgba(20,20,20,0.8);
        backdrop-filter: blur(10px);
        padding: 5px;
        border-radius: 50px;
        border: 1px solid var(--border);
    }
    .lang-btn {
        background: transparent; border: none;
        color: var(--muted);
        padding: 8px 12px;
        font-size: 12px; font-weight: 700;
        cursor: pointer;
        border-radius: 20px;
        transition: 0.3s;
    }
    .lang-btn.active {
        background: #333;
        color: #fff;
    }
    .lang-btn:hover:not(.active) { color: #fff; }

    /* --- NAVIGATION --- */
    .nav-scroll {
        display: flex; gap: 8px;
        overflow-x: auto;
        padding-bottom: 20px;
        margin-bottom: 40px;
        scrollbar-width: none;
    }
    .nav-scroll::-webkit-scrollbar { display: none; }
    
    .nav-item {
        background: transparent;
        border: 1px solid var(--border);
        color: var(--text);
        padding: 10px 20px;
        border-radius: 100px;
        white-space: nowrap;
        font-size: 13px; font-weight: 600;
        cursor: pointer;
        transition: 0.3s var(--ease);
    }
    .nav-item:hover {
        border-color: var(--accent);
        color: var(--accent);
        box-shadow: 0 0 15px rgba(212, 255, 0, 0.1);
    }

    /* --- SECTIONS --- */
    .section {
        margin-bottom: 80px;
    }
    
    .section-head {
        display: flex; justify-content: space-between; align-items: flex-end;
        margin-bottom: 20px;
        border-bottom: 1px solid var(--border);
        padding-bottom: 20px;
        position: sticky;
        top: 20px; /* Sticky offset */
        z-index: 10; /* Lower z-index so it doesn't cover header */
        background: rgba(10,10,10,0.95);
        backdrop-filter: blur(5px);
    }
    /* Disable sticky on mobile to prevent overlap issues */
    @media (max-width: 600px) {
        .section-head { position: static; background: transparent; padding-top: 20px; }
    }

    .section-title {
        font-family: var(--font-serif);
        font-size: 32px;
        font-weight: 400;
        margin: 0;
        line-height: 1;
        color: #fff;
    }
    .section-desc {
        max-width: 400px;
        font-size: 13px;
        color: var(--muted);
        line-height: 1.5;
        margin-top: 10px;
    }

    /* --- CARDS & IMAGES --- */
    .menu-card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: 4px; /* Brutalist corners */
        overflow: hidden;
        transition: transform 0.4s var(--ease), border-color 0.4s;
    }
    .menu-card:hover {
        border-color: #333;
        transform: translateY(-5px);
    }

    .img-container {
        width: 100%;
        height: 350px;
        overflow: hidden;
        position: relative;
    }
    @media(max-width: 600px) {
        .img-container { height: 250px; }
    }
    
    .menu-img {
        width: 100%; height: 100%;
        object-fit: cover;
        transition: transform 0.7s var(--ease), filter 0.7s;
        filter: grayscale(20%);
    }
    .menu-card:hover .menu-img {
        transform: scale(1.05);
        filter: grayscale(0%);
    }

    /* --- ITEMS LIST --- */
    .items-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1px;
        background: var(--border);
        border-top: 1px solid var(--border);
    }
    
    .item-row {
        background: var(--card);
        padding: 20px;
        display: flex; flex-direction: column; justify-content: space-between;
        gap: 15px;
        transition: background 0.3s;
    }
    .item-row:hover { background: #1a1a1a; }

    .item-header {
        display: flex; justify-content: space-between; align-items: baseline;
    }
    .item-name { font-weight: 700; font-size: 15px; letter-spacing: 0.02em; color: #fff; }
    .item-price { color: var(--accent); font-weight: 700; font-size: 15px; font-feature-settings: 'tnum'; }
    
    .item-desc {
        font-size: 13px;
        color: #999; /* Lighter grey for better readability */
        line-height: 1.5;
        white-space: pre-line;
    }

    /* --- ACCORDION BUTTON --- */
    .expand-btn {
        width: 100%;
        padding: 20px;
        background: #111;
        border: none;
        color: #fff;
        font-size: 12px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase;
        cursor: pointer;
        display: flex; justify-content: space-between;
        transition: 0.3s;
    }
    .expand-btn:hover { background: var(--accent); color: var(--accent-text); }
    .accordion-content {
        display: none;
    }
    .accordion-content.open { display: block; animation: slideDown 0.5s var(--ease); }
    
    @keyframes slideDown {
        from { opacity: 0; transform: translateY(-10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* --- CONTACTS & FOOTER --- */
    .footer-grid {
        display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 40px;
        padding-top: 60px;
        border-top: 1px solid var(--border);
    }
    .f-title { color: var(--muted); font-size: 12px; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 0.1em; }
    .f-link { 
        display: block; color: #fff; text-decoration: none; font-size: 18px; margin-bottom: 10px; 
        transition: color 0.3s;
    }
    .f-link:hover { color: var(--accent); }

    /* --- MODALS --- */
    .modal {
        position: fixed; inset: 0; z-index: 2000;
        background: rgba(0,0,0,0.8);
        backdrop-filter: blur(10px);
        display: flex; justify-content: center; align-items: center;
        opacity: 0; pointer-events: none;
        transition: 0.3s;
    }
    .modal.active { opacity: 1; pointer-events: auto; }
    
    .modal-content {
        background: #111;
        border: 1px solid var(--border);
        padding: 40px;
        max-width: 500px; width: 90%;
        transform: scale(0.95);
        transition: 0.4s var(--ease);
    }
    .modal.active .modal-content { transform: scale(1); }
    
    .allergy-float {
        position: fixed; bottom: 30px; right: 30px;
        width: 50px; height: 50px;
        background: var(--accent); color: var(--accent-text);
        border-radius: 50%;
        display: flex; justify-content: center; align-items: center;
        font-weight: 900; font-size: 24px;
        cursor: pointer;
        z-index: 90;
        transition: transform 0.3s var(--ease);
    }
    .allergy-float:hover { transform: scale(1.1) rotate(10deg); }

    /* --- LIGHTBOX --- */
    .lb-img {
        max-width: 90%; max-height: 90vh;
        box-shadow: 0 0 100px rgba(212, 255, 0, 0.2);
    }

  </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body>

  <!-- FIXED HEADER -->
  <div class="header-fixed" id="header-bar">
    <div class="header-content">
        <div class="logo">KS</div>
        <div class="brand-text">
            <h1>Księstwo Sushi</h1>
            <div class="sub" id="hdr-sub">Fine Sushi</div>
        </div>
    </div>
    <div class="lang-switch">
        <button class="lang-btn active" onclick="setLang('pl')">PL</button>
        <button class="lang-btn" onclick="setLang('en')">EN</button>
    </div>
  </div>

  <!-- FLOATING ALLERGY -->
  <div class="allergy-float" onclick="openInfo()">!</div>

  <div class="wrap">
    
    <!-- NAV -->
    <nav class="nav-scroll" id="nav-container"></nav>

    <!-- MAIN MENU -->
    <main id="menu-container"></main>

    <!-- FOOTER -->
    <footer class="footer-grid">
        <div>
            <div class="f-title" id="ft-contact">Contact</div>
            <a href="tel:+48502525544" class="f-link">+48 502 525 544</a>
            <a href="https://instagram.com/ksiestwosushi" target="_blank" class="f-link">@ksiestwosushi</a>
        </div>
        <div>
            <div class="f-title" id="ft-loc">Location</div>
            <a href="https://maps.app.goo.gl/ZT1PfgScLAJkTbhx7" target="_blank" class="f-link">Krupówki 38A, Zakopane</a>
        </div>
    </footer>
    <div style="text-align: center; margin-top: 50px; color: #333; font-size: 12px;">
        Księstwo Sushi 2024 &copy; Digital Menu
    </div>

  </div>

  <!-- MODALS -->
  <div class="modal" id="info-modal" onclick="closeInfo(event)">
    <div class="modal-content">
        <h2 id="info-title" style="margin-top:0; color:#fff;">Allergens</h2>
        <p id="info-text" style="color:#aaa; line-height:1.6;"></p>
        <div id="info-note" style="margin-top:20px; padding-top:20px; border-top:1px solid #333; font-style:italic; color:#666;"></div>
    </div>
  </div>

  <div class="modal" id="lb-modal" onclick="closeLb()">
    <img src="" id="lb-img" class="lb-img">
  </div>

  <script>
    // --- SCROLL HIDER ---
    let lastScroll = 0;
    window.addEventListener('scroll', () => {
        const currentScroll = window.scrollY;
        const header = document.getElementById('header-bar');
        
        // Hide if scrolling down & not at top
        if (currentScroll > 50 && currentScroll > lastScroll) {
            header.classList.add('hidden');
        } else {
            header.classList.remove('hidden');
        }
        lastScroll = currentScroll;
    });

    // --- DATA ---
    const ALLERGIES = {
        title: { en: 'Allergy Information', pl: 'Informacja o alergenach' },
        text: {
            en: 'According to the recipe, they may contain: gluten, cucumber, oshinko, kampyo, avocado, mango, melon, lettuce, sesame seeds, Philadelphia cream cheese, mayonnaise, sauces, edible gold.',
            pl: 'Zgodnie z recepturą mogą zawierać: gluten, ogórek, oshinko, kampyo, awokado, mango, melon, sałatę, sezam, serek philadelphia, majonez, sosy, złoto jadalne.'
        },
        service: {
            en: 'We kindly inform you that we add a waiter service of 10% to the final bill.',
            pl: 'Uprzejmie informujemy, że doliczamy serwis kelnerski w wysokości 10% do rachunku końcowego.'
        }
    };

    const DATA = [
      {
        id:'sets',
        title:{en:'Sushi Sets', pl:'Zestawy Sushi'},
        img: 'images/zestawy.jpg', 
        desc:{en:'Curated combinations of our finest rolls.', pl:'Starannie dobrane kompozycje naszych najlepszych rolek.'},
        items:[
          { en:'Ki Iro 14 pc.', pl:'Ki Iro 14 szt.', price:'70 zł',
            descEN:'3x hosomaki salmon (raw Fish)\n3x hosomaki calabash (marinated pumpkin shoots)\n4x rainbow (surimi wraped in variety of raw fish)\n4x futomaki Ohio yaki (baked butterfish)',
            descPL:'3x hosomaki łosoś (surowa ryba)\n3x hosomaki tykwa (marynowane pędy dyni)\n4x rainbow (surimi owijane wachlarzem surowych ryb)\n4x futomaki ohioyaki (pieczona ryba maślana)' },
          { en:'Orenji 16 pc.', pl:'Orenji 16 szt.', price:'90 zł',
            descEN:'4x ebi ten (shrimp tempura)\n4x gold california (surimi wraped in raw salmon)\n4x avocado kani (surimi wraped in avocado)\n4x Ohio yaki (baked butterfish covered in seasame)',
            descPL:'4x ebi ten (krewetka w tempurze)\n4x gold california (surimi owijane surowym łososiem)\n4x awokado kani (surimi owijane awokado)\n4x ohioyaki (pieczona ryba maślana obtoczona w sezamie)' },
          { en:'Aka 24 pc.', pl:'Aka 24 szt.', price:'130 zł',
            descEN:'4x gold california (surimi wraped in raw salmon)\n4x ebi ten (shrimp tempura)\n4x mango sake (raw salmon wraped in a mango)\n4x avocado kani (surimi wraped in avocado)\n6x futomaki ohio ten (butterfish tempura)',
            descPL:'4x gold california (surimi owijane surowym łososiem)\n4x ebi ten (krewetka w tempurze)\n4x mango sake (surowy łosoś owijany mango)\n4x awokado kani (surimi owijane awokado)\n6x Futomaki ohio ten (ryba maślana w tempurze)' }
        ]
      },
      {
        id:'starters',
        title:{en:'Starters', pl:'Przystawki'},
        gallery:[
            {src:'images/wakame.jpg'},
            {src:'images/ebiten.jpg'},
            {src:'images/sake-tataki.jpg'}
        ], 
        desc:{en:'Light and fresh starters.', pl:'Wybór lekkich i świeżych przystawek.'},
        items:[
          {en:'Goma Wakame', pl:'Goma Wakame', price:'20 zł', descEN:'wakame salad', descPL:'sałatka wakame'},
          {en:'Ebiten (3 pcs)', pl:'Ebiten (3 szt.)', price:'30 zł', descEN:'shrimp tempura served with ponzu sauce', descPL:'krewetka tempura z sosem ponzu'},
          {en:'Sake Tataki', pl:'Sake Tataki', price:'50 zł', descEN:'salmon tartare', descPL:'tatar z łososia'},
          {en:'Maguro Tataki', pl:'Maguro Tataki', price:'55 zł', descEN:'tuna tartare', descPL:'tatar z tuńczyka'}
        ]
      },
      {
        id:'soups',
        title:{en:'Soups', pl:'Zupy'},
        img:'images/ramen-zupa.jpg',
        desc:{en:'Traditional Japanese soups.', pl:'Tradycyjne japońskie zupy.'},
        note:{en:'Ramen portion is 800ml (for 2 people).', pl:'Porcja Ramenu to 800ml (dla 2 osób).'},
        items:[
          {en:'Ramen Chicken', pl:'Ramen Chicken', price:'48 zł', descEN:'flavorful broth with chicken, vegetables, and ramen noodles', descPL:'bulion z warzywami, mięsem i makaronem ramen'},
          {en:'Ramen Beef', pl:'Ramen Beef', price:'55 zł', descEN:'beef ramen', descPL:'ramen wołowy'}
        ]
      },
      {
        id:'nigiri',
        title:{en:'Nigiri (2 pc)', pl:'Nigiri (2 szt.)'},
        img:'images/nigiri1.jpg',
        desc:{en:'Hand-pressed rice with fish.', pl:'Ręcznie formowany ryż z rybą.'},
        items:[
          {en:'Sake', pl:'Sake', price:'26 zł', descEN:'salmon', descPL:'łosoś'},
          {en:'Ohio', pl:'Ohio', price:'25 zł', descEN:'butterfish', descPL:'ryba maślana'},
          {en:'Maguro', pl:'Maguro', price:'30 zł', descEN:'tuna', descPL:'tuńczyk'},
          {en:'Unagi', pl:'Unagi', price:'30 zł', descEN:'eel', descPL:'węgorz'},
          {en:'Hotate', pl:'Hotate', price:'32 zł', descEN:'scallops', descPL:'małże św. Jakuba'},
          {en:'Tako', pl:'Tako', price:'30 zł', descEN:'octopus', descPL:'ośmiornica'},
          {en:'Ika', pl:'Ika', price:'30 zł', descEN:'squid', descPL:'kalmar'},
          {en:'Ebi', pl:'Ebi', price:'30 zł', descEN:'shrimp', descPL:'krewetka'}
        ]
      },
      {
        id:'futomaki',
        title:{en:'Futomaki (6 pc)', pl:'Futomaki (6 szt.)'},
        img:'images/futomaki.jpg',
        desc:{en:'Thick rolls with nori outside.', pl:'Grube rolki z nori na zewnątrz.'},
        items:[
          {en:'Sake Philadelphia', pl:'Sake Philadelphia', price:'38 zł', descEN:'salmon with philadelphia cream cheese', descPL:'łosoś z serkiem philadelphia'},
          {en:'Maguro Negi Togarashi', pl:'Maguro Negi Togarashi', price:'42 zł', descEN:'tuna with spicy leek', descPL:'tuńczyk z ostrą dymką'},
          {en:'Ohio Spice Mango', pl:'Ohio Spice Mango', price:'40 zł', descEN:'spicy butterfish with mango', descPL:'pikantna ryba maślana z mango'},
          {en:'Ebi Spicy', pl:'Ebi Spicy', price:'40 zł', descEN:'spicy shrimp', descPL:'pikantna krewetka'},
          {en:'Ebi Tempura', pl:'Ebi Tempura', price:'40 zł', descEN:'shrimp tempura', descPL:'krewetka w tempurze'},
          {en:'Unagi Kabayaki', pl:'Unagi Kabayaki', price:'45 zł', descEN:'grilled eel with kabayaki sauce', descPL:'grillowany węgorz w sosie kabayaki'},
          {en:'Ika Tempura', pl:'Ika Tempura', price:'48 zł', descEN:'squid tempura', descPL:'kalmar w tempurze'},
          {en:'Veggie', pl:'Veggie', price:'36 zł', descEN:'vegetables', descPL:'warzywa'}
        ]
      },
      {
        id:'uramaki',
        title:{en:'Uramaki & Tempura (8 pc)', pl:'Uramaki & Tempura (8 szt.)'},
        img:'images/tempura.jpg',
        desc:{en:'Inside-out rolls and crispy Tempura.', pl:'Rolki odwrócone i w tempurze.'},
        isSplit: true,
        itemsLeft:[
          {en:'Sake Philadelphia', pl:'Sake Philadelphia', price:'38 zł', descEN:'salmon with philadelphia cream cheese', descPL:'łosoś z serkiem philadelphia'},
          {en:'Awokado Sake', pl:'Awokado Sake', price:'42 zł', descEN:'salmon wrapped in avocado', descPL:'łosoś owijany awokado'},
          {en:'Mango Sake', pl:'Mango Sake', price:'42 zł', descEN:'salmon wrapped in mango', descPL:'łosoś owijany mango'},
          {en:'Maguro Orange Pepper', pl:'Maguro Orange Pepper', price:'45 zł', descEN:'tuna with chopped leek and orange pepper', descPL:'tuńczyk z siekanym porem i orange pepper'},
          {en:'Ebi Ten Mamemori', pl:'Ebi Ten Mamemori', price:'42 zł', descEN:'shrimp tempura wrapped in soy paper', descPL:'krewetka w tempurze zawijana w papier sojowy'},
          {en:'Gold California', pl:'Gold California', price:'40 zł', descEN:'surimi wrapped in salmon', descPL:'surimi owijane łososiem'},
          {en:'Rainbow', pl:'Rainbow', price:'48 zł', descEN:'surimi wrapped in assorted fish', descPL:'surimi owijane wachlarzem ryb'},
          {en:'Ohio Spice Sake', pl:'Ohio Spice Sake', price:'42 zł', descEN:'salmon wrapped in butterfish', descPL:'łosoś owijany opalaną maślaną'},
          {en:'Maguro Spicy Ebi Ten', pl:'Maguro Spicy Ebi Ten', price:'45 zł', descEN:'shrimp tempura wrapped in seared tuna', descPL:'krewetka w tempurze owijana opalanym tuńczykiem'},
          {en:'Kegon', pl:'Kegon', price:'45 zł', descEN:'salmon wrapped in grilled eel', descPL:'łosoś owijany grillowanym węgorzem'},
          {en:'Sake Aburi', pl:'Sake Aburi', price:'45 zł', descEN:'salmon wrapped in seared spicy salmon', descPL:'łosoś owijany opalanym pikantnym łososiem'},
          {en:'Tobiko Ohio Ten', pl:'Tobiko Ohio Ten', price:'48 zł', descEN:'butterfish in tempura coated with caviar', descPL:'maślana w tempurze obtoczona kawiorem z latającej ryby'},
          {en:'Nashi Sake', pl:'Nashi Sake', price:'45 zł', descEN:'salmon wrapped in Japanese pear', descPL:'łosoś owijany japońską gruszką'},
          {en:'Sake Tataki Ebiten', pl:'Sake Tataki Ebiten', price:'48 zł', descEN:'shrimp tempura wrapped in salmon tartare', descPL:'krewetka w tempurze obtoczona tatarem z łososia'}
        ],
        itemsRight:[
          {en:'Tempura Sake', pl:'Tempura Sake', price:'38 zł', descEN:'salmon', descPL:'łosoś'},
          {en:'Tempura Ohio', pl:'Tempura Ohio', price:'38 zł', descEN:'butterfish', descPL:'maślana'},
          {en:'Tempura Maguro', pl:'Tempura Maguro', price:'42 zł', descEN:'tuna', descPL:'tuńczyk'},
          {en:'Tempura Ebi', pl:'Tempura Ebi', price:'40 zł', descEN:'steamed shrimp', descPL:'parzona krewetka'},
          {en:'Tempura Unagi Kabayaki', pl:'Tempura Unagi Kabayaki', price:'45 zł', descEN:'grilled eel', descPL:'grillowany węgorz'}
        ]
      },
      {
        id:'oyakomaki',
        title:{en:'Oyakomaki (2 pc)', pl:'Oyakomaki (2 szt.)'},
        img:'images/oyakomaki.jpg',
        desc:{en:'Specialty rolls wrapped in fish.', pl:'Specjalne rolki zawijane w rybę.'},
        items:[
          {en:'Sake Ebi Tataki', pl:'Sake Ebi Tataki', price:'36 zł', descEN:'chopped shrimp wrapped in salmon', descPL:'siekana krewetka owijana w łososia'},
          {en:'Sake Ikura', pl:'Sake Ikura', price:'42 zł', descEN:'caviar with salmon wrapped in tuna', descPL:'kawior z łososia owijany tuńczykiem'},
          {en:'Maguro Sake Tataki', pl:'Maguro Sake Tataki', price:'45 zł', descEN:'chopped salmon wrapped in tuna', descPL:'siekany łosoś owijany tuńczyком'}
        ]
      },
      {
        id:'sashimi',
        title:{en:'Sashimi (9 pc)', pl:'Sashimi (9 szt.)'},
        img:'images/sashimi.jpg',
        desc:{en:'Thinly sliced raw fish.', pl:'Cienko krojone plastry surowej ryby.'},
        items:[
          {en:'Mizu', pl:'Mizu', price:'95 zł', descEN:'slices of raw fish — salmon, tuna, butterfish', descPL:'plastry surowej ryby — łosoś, tuńczyk, maślana'}
        ]
      }
    ];

    let LANG = 'pl';

    function setLang(l) {
        if(LANG === l) return;
        LANG = l;
        document.querySelectorAll('.lang-btn').forEach(b => {
            b.classList.toggle('active', b.innerText.toLowerCase() === l);
        });
        document.querySelector('.wrap').style.opacity = '0';
        setTimeout(() => {
            render();
            document.querySelector('.wrap').style.opacity = '1';
        }, 300);
    }

    function renderItem(item) {
        return `
        <div class="item-row">
            <div class="item-header">
                <span class="item-name">${LANG==='en'?item.en:item.pl}</span>
                <span class="item-price">${item.price}</span>
            </div>
            <div class="item-desc">${LANG==='en'?item.descEN:item.descPL}</div>
        </div>`;
    }

    function render() {
        document.getElementById('hdr-sub').innerText = LANG==='en' ? 'Fine Sushi' : 'Wyborne Sushi';
        document.getElementById('ft-contact').innerText = LANG==='en' ? 'Contact' : 'Kontakt';
        document.getElementById('ft-loc').innerText = LANG==='en' ? 'Location' : 'Lokalizacja';
        document.getElementById('info-title').innerText = LANG==='en'?ALLERGIES.title.en:ALLERGIES.title.pl;
        document.getElementById('info-text').innerText = LANG==='en'?ALLERGIES.text.en:ALLERGIES.text.pl;
        document.getElementById('info-note').innerText = LANG==='en'?ALLERGIES.service.en:ALLERGIES.service.pl;

        // Nav
        const nav = document.getElementById('nav-container');
        nav.innerHTML = DATA.map(s => 
            `<button class="nav-item" onclick="document.getElementById('${s.id}').scrollIntoView({behavior:'smooth'})">
                ${LANG==='en'?s.title.en:s.title.pl}
            </button>`
        ).join('');

        // Menu
        const container = document.getElementById('menu-container');
        let html = '';
        
        DATA.forEach(section => {
            const title = LANG==='en'?section.title.en:section.title.pl;
            const desc = LANG==='en'?section.desc.en:section.desc.pl;
            
            // Media
            let media = '';
            if (section.gallery) {
                // Stack images for starters
                media = `<div class="img-container" style="height:auto; display:flex; flex-direction:column; gap:2px;">
                    ${section.gallery.map(g => `<img src="${g.src}" class="menu-img" style="height:150px; cursor:pointer;" onclick="openLb('${g.src}')">`).join('')}
                </div>`;
            } else if (section.img) {
                media = `<div class="img-container">
                    <img src="${section.img}" class="menu-img" onclick="openLb('${section.img}')" style="cursor:pointer">
                </div>`;
            }

            // Items
            let itemsHtml = '';
            if (section.isSplit) {
                itemsHtml = `
                <div style="background:#111; padding:20px; border-bottom:1px solid #222;">
                    <div style="color:var(--accent); font-weight:700; margin-bottom:15px; text-transform:uppercase;">Uramaki</div>
                    <div style="display:grid; gap:10px;">${section.itemsLeft.map(renderItem).join('')}</div>
                    
                    <div style="color:var(--accent); font-weight:700; margin:30px 0 15px 0; text-transform:uppercase;">
                        ${LANG==='en'?'Tempura':'W Tempurze'}
                    </div>
                    <div style="display:grid; gap:10px;">${section.itemsRight.map(renderItem).join('')}</div>
                </div>`;
            } else {
                itemsHtml = `<div class="items-grid">${section.items.map(renderItem).join('')}</div>`;
            }

            const btnText = LANG==='en' ? 'Show Items' : 'Pokaż pozycje';

            html += `
            <section class="section" id="${section.id}">
                <div class="section-head">
                    <div>
                        <h2 class="section-title">${title}</h2>
                        <div class="section-desc">${desc}</div>
                        ${section.note ? `<div style="font-size:11px; color:var(--accent); margin-top:5px;">${LANG==='en'?section.note.en:section.note.pl}</div>` : ''}
                    </div>
                </div>
                
                <div class="menu-card">
                    ${media}
                    
                    <button class="expand-btn" onclick="toggleAcc(this)">
                        <span>${btnText}</span> <span>+</span>
                    </button>
                    <div class="accordion-content">
                        ${itemsHtml}
                    </div>
                </div>
            </section>
            `;
        });

        // Add Allergy Block at bottom
        html += `
        <div style="margin-top:60px; padding:30px; border:1px solid #222; border-radius:10px; background:#0e0e0e;">
            <h3 style="color:#fff; margin-top:0;">${LANG==='en'?ALLERGIES.title.en:ALLERGIES.title.pl}</h3>
            <p style="font-size:13px; color:#888; line-height:1.6;">${LANG==='en'?ALLERGIES.text.en:ALLERGIES.text.pl}</p>
            <div style="font-size:13px; color:var(--accent); margin-top:15px; font-style:italic;">
                ${LANG==='en'?ALLERGIES.service.en:ALLERGIES.service.pl}
            </div>
        </div>
        `;

        container.innerHTML = html;
    }

    function toggleAcc(btn) {
        const content = btn.nextElementSibling;
        content.classList.toggle('open');
        btn.querySelector('span:last-child').innerText = content.classList.contains('open') ? '−' : '+';
    }

    function openInfo() {
        document.getElementById('info-modal').classList.add('active');
        document.querySelector('.allergy-float').style.opacity = '0';
        document.querySelector('.allergy-float').style.pointerEvents = 'none';
    }
    function closeInfo(e) {
        if(e.target.id === 'info-modal' || e.target.classList.contains('info-close'))
            document.getElementById('info-modal').classList.remove('active');
    }

    function openLb(src) {
        document.getElementById('lb-img').src = src;
        document.getElementById('lb-modal').classList.add('active');
    }
    function closeLb() {
        document.getElementById('lb-modal').classList.remove('active');
    }

    // Init
    render();

  </script>
</body>
</html>
