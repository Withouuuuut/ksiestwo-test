
<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Księstwo Sushi | The Void Experience</title>
    
    <!-- PREMIUM FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700;900&family=Montserrat:wght@200;300;400;500;700&family=Noto+Serif+JP:wght@200;900&display=swap" rel="stylesheet">

    <style>
        /* 
         * =================================================================
         * 1. THE CORE (VARIABLES & RESET)
         * =================================================================
         */
        :root {
            /* Palette: Deep Void */
            --bg-color: #050505;
            --bg-panel: #0a0a0a;
            --text-main: #e0e0e0;
            --text-muted: #888888;
            
            /* Accent: Liquid Gold/Copper */
            --accent: #c6a87c;
            --accent-glow: rgba(198, 168, 124, 0.3);
            --danger: #ff4757;

            /* Dimensions */
            --sidebar-w: 80px;
            --container-max: 1200px;
            
            /* Typography */
            --font-head: 'Cinzel', serif;
            --font-body: 'Montserrat', sans-serif;
            --font-jp: 'Noto Serif JP', serif;

            /* Animation */
            --ease-expo: cubic-bezier(0.19, 1, 0.22, 1);
            --ease-fluid: cubic-bezier(0.77, 0, 0.175, 1);
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            cursor: none; /* Hide system cursor */
        }

        html, body {
            background-color: var(--bg-color);
            color: var(--text-main);
            font-family: var(--font-body);
            overflow-x: hidden;
            width: 100%;
            height: 100%;
        }

        ::selection {
            background: var(--accent);
            color: #000;
        }

        /* 
         * =================================================================
         * 2. FX LAYER (GRAIN, CURSOR, SCROLLBAR)
         * =================================================================
         */
        /* Cinematic Film Grain */
        .fx-grain {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9000;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='1'/%3E%3C/svg%3E");
        }

        /* Custom Spotlight Cursor */
        .cursor-outer {
            position: fixed;
            top: 0; left: 0;
            width: 40px; height: 40px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            z-index: 10000;
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: width 0.3s, height 0.3s, background 0.3s;
            mix-blend-mode: difference;
        }
        .cursor-inner {
            position: fixed;
            top: 0; left: 0;
            width: 6px; height: 6px;
            background: var(--accent);
            border-radius: 50%;
            z-index: 10001;
            pointer-events: none;
            transform: translate(-50%, -50%);
        }
        body.hover-active .cursor-outer {
            width: 80px; height: 80px;
            background: rgba(255,255,255,0.9);
            border-color: transparent;
            mix-blend-mode: difference;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-color); }
        ::-webkit-scrollbar-thumb { background: #333; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent); }

        /* 
         * =================================================================
         * 3. LAYOUT & STRUCTURE
         * =================================================================
         */
        .viewport {
            position: relative;
            width: 100%;
            overflow: hidden;
        }

        /* Sticky Sidebar (Desktop) */
        .sidebar-nav {
            position: fixed;
            top: 0; left: 0; bottom: 0;
            width: var(--sidebar-w);
            border-right: 1px solid rgba(255,255,255,0.05);
            z-index: 100;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 40px 0;
            background: rgba(5,5,5,0.8);
            backdrop-filter: blur(10px);
        }
        .brand-vertical {
            font-family: var(--font-head);
            font-weight: 900;
            font-size: 24px;
            color: var(--accent);
            writing-mode: vertical-rl;
            text-orientation: mixed;
            transform: rotate(180deg);
            letter-spacing: 2px;
        }
        .nav-dots {
            display: flex; flex-direction: column; gap: 20px;
        }
        .nav-dot {
            width: 8px; height: 8px;
            border-radius: 50%;
            background: #333;
            transition: 0.3s;
            position: relative;
        }
        .nav-dot.active { background: var(--accent); box-shadow: 0 0 10px var(--accent-glow); transform: scale(1.5); }
        .nav-dot::after {
            content: attr(data-label);
            position: absolute; left: 20px; top: 50%; transform: translateY(-50%);
            font-size: 10px; text-transform: uppercase; color: var(--accent);
            opacity: 0; transition: 0.3s; white-space: nowrap; letter-spacing: 1px;
        }
        .nav-dot:hover::after { opacity: 1; left: 25px; }

        /* Main Scroll Container */
        .main-stage {
            padding-left: var(--sidebar-w);
            width: 100%;
            position: relative;
        }

        /* 
         * =================================================================
         * 4. SECTIONS & TYPOGRAPHY
         * =================================================================
         */
        
        /* HERO SECTION */
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        .hero-video-bg {
            position: absolute; inset: 0;
            z-index: -1;
            opacity: 0.4;
            background: radial-gradient(circle, transparent 0%, #050505 100%);
        }
        .hero-video-bg img {
            width: 100%; height: 100%; object-fit: cover;
            filter: grayscale(100%) contrast(1.2);
            animation: breathe 10s infinite alternate;
        }
        @keyframes breathe { from {transform: scale(1);} to {transform: scale(1.1);} }

        .hero-content { text-align: center; z-index: 2; mix-blend-mode: exclusion;}
        .hero-title {
            font-family: var(--font-head);
            font-size: clamp(3rem, 10vw, 8rem);
            line-height: 0.9;
            text-transform: uppercase;
            color: #fff;
            letter-spacing: -2px;
            margin-bottom: 20px;
        }
        .hero-title span { display: block; overflow: hidden; }
        .hero-title span i { 
            display: block; 
            transform: translateY(100%); 
            animation: revealText 1.2s var(--ease-expo) forwards; 
        }
        .hero-title span:nth-child(2) i { animation-delay: 0.2s; }

        .hero-sub {
            font-family: var(--font-body);
            font-size: 1.2rem;
            letter-spacing: 6px;
            text-transform: uppercase;
            color: var(--accent);
            opacity: 0;
            animation: fadeIn 1s ease 1s forwards;
        }

        @keyframes revealText { to { transform: translateY(0); } }
        @keyframes fadeIn { to { opacity: 1; } }

        /* MENU SECTIONS */
        .menu-section {
            padding: 100px 60px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            position: relative;
        }

        /* The Big Floating Title */
        .sticky-title {
            font-family: var(--font-head);
            font-size: 8rem;
            color: rgba(255,255,255,0.03);
            position: absolute;
            top: 20px; right: 0;
            line-height: 0.8;
            pointer-events: none;
            z-index: 0;
            white-space: nowrap;
            writing-mode: vertical-rl;
        }
        
        .section-header {
            margin-bottom: 60px;
            position: relative;
            z-index: 2;
        }
        .section-name {
            font-family: var(--font-head);
            font-size: 3rem;
            color: var(--text-main);
            margin-bottom: 10px;
            display: flex; align-items: baseline; gap: 20px;
        }
        .section-jp {
            font-family: var(--font-jp);
            font-size: 1.5rem;
            color: var(--accent);
            opacity: 0.6;
        }
        .section-desc {
            max-width: 500px;
            color: var(--text-muted);
            line-height: 1.6;
            font-size: 0.95rem;
            border-left: 2px solid var(--accent);
            padding-left: 20px;
        }

        /* 
         * =================================================================
         * 5. THE CONTENT LAYOUT (MAGAZINE STYLE)
         * =================================================================
         */
        .editorial-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: start;
        }

        /* Images */
        .visuals-col {
            position: sticky;
            top: 100px;
        }
        .main-image-frame {
            width: 100%;
            height: 60vh;
            overflow: hidden;
            position: relative;
            margin-bottom: 20px;
        }
        .main-image-frame img {
            width: 100%; height: 100%;
            object-fit: cover;
            transition: transform 1s var(--ease-fluid);
            filter: brightness(0.9) contrast(1.1);
        }
        .main-image-frame:hover img { transform: scale(1.1); }
        
        /* The "Scanner" effect line */
        .scanner-line {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: var(--accent);
            box-shadow: 0 0 10px var(--accent);
            animation: scan 4s linear infinite;
            z-index: 5;
            opacity: 0.5;
        }
        @keyframes scan { 0% {top:0; opacity:0;} 10% {opacity:1;} 90% {opacity:1;} 100% {top:100%; opacity:0;} }

        /* The List */
        .items-col {
            padding-top: 40px;
        }

        .dish-item {
            display: grid;
            grid-template-columns: 1fr auto;
            gap: 10px 20px;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 1px dashed rgba(255,255,255,0.1);
            transition: transform 0.3s;
        }
        .dish-item:hover { transform: translateX(10px); }
        .dish-item:last-child { border-bottom: none; }

        .dish-head {
            font-family: var(--font-head);
            font-size: 1.3rem;
            color: #fff;
        }
        .dish-price {
            font-family: var(--font-body);
            font-weight: 700;
            color: var(--accent);
            font-size: 1.1rem;
        }
        .dish-desc {
            grid-column: 1 / -1;
            font-size: 0.9rem;
            color: #777;
            font-weight: 300;
        }

        /* 
         * =================================================================
         * 6. UI ELEMENTS
         * =================================================================
         */
        
        /* Language Toggle - Minimal */
        .lang-switch {
            position: fixed;
            top: 40px; right: 40px;
            z-index: 500;
            display: flex; gap: 20px;
            font-family: var(--font-body);
            font-size: 0.8rem;
            font-weight: 600;
            transform: rotate(90deg);
            transform-origin: top right;
        }
        .lang-opt {
            color: #555; text-decoration: none; transition: 0.3s;
            position: relative;
        }
        .lang-opt.active { color: var(--accent); }
        .lang-opt.active::before {
            content: ''; position: absolute; left: -10px; top: 50%; width: 4px; height: 4px; background: var(--accent); transform: translateY(-50%); border-radius: 50%;
        }

        /* Contact Float */
        .contact-float {
            position: fixed;
            bottom: 0; right: 0;
            background: var(--accent);
            color: #000;
            padding: 20px 40px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 400;
            clip-path: polygon(20px 0, 100% 0, 100% 100%, 0 100%);
            transition: transform 0.4s var(--ease-expo);
        }
        .contact-float:hover {
            transform: translateY(-10px);
            padding-bottom: 30px;
        }

        /* Allergy Bomb */
        .allergy-bomb {
            position: fixed;
            bottom: 40px; left: calc(var(--sidebar-w) + 40px);
            width: 50px; height: 50px;
            border: 1px solid var(--danger);
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: var(--danger);
            font-weight: 900;
            z-index: 500;
            animation: pulse-red 2s infinite;
            transition: 0.3s;
        }
        .allergy-bomb:hover { background: var(--danger); color: #000; transform: scale(1.1); }
        .allergy-bomb.hidden { transform: scale(0); opacity: 0; }
        
        @keyframes pulse-red { 0% {box-shadow: 0 0 0 0 rgba(255, 71, 87, 0.4);} 70% {box-shadow: 0 0 0 15px rgba(255, 71, 87, 0);} 100% {box-shadow: 0 0 0 0 rgba(255, 71, 87, 0);} }

        /* 
         * =================================================================
         * 7. MODALS (Glassmorphism)
         * =================================================================
         */
        .modal-glass {
            position: fixed; inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(20px);
            z-index: 9999;
            display: flex; align-items: center; justify-content: center;
            opacity: 0; pointer-events: none;
            transition: opacity 0.5s;
        }
        .modal-glass.active { opacity: 1; pointer-events: auto; }
        
        .glass-card {
            background: rgba(20,20,20,0.6);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 60px;
            max-width: 600px; width: 90%;
            text-align: center;
            transform: scale(0.9); transition: 0.5s var(--ease-expo);
            position: relative;
        }
        .modal-glass.active .glass-card { transform: scale(1); }
        
        .modal-close-btn {
            position: absolute; top: 20px; right: 20px;
            color: #fff; font-size: 30px; background: none; border: none;
        }

        /* 
         * =================================================================
         * 8. MOBILE ADAPTATIONS
         * =================================================================
         */
        @media (max-width: 1024px) {
            .cursor-outer, .cursor-inner { display: none; }
            body { cursor: auto; }
            .sidebar-nav { width: 100%; height: 60px; bottom: auto; border-right: none; border-bottom: 1px solid rgba(255,255,255,0.1); flex-direction: row; padding: 0 20px; }
            .brand-vertical { writing-mode: horizontal-tb; transform: none; font-size: 18px; }
            .nav-dots { display: none; }
            .main-stage { padding-left: 0; padding-top: 60px; }
            .editorial-layout { grid-template-columns: 1fr; gap: 30px; }
            .visuals-col { position: relative; top: 0; height: auto; }
            .main-image-frame { height: 300px; }
            .hero-title { font-size: 3.5rem; }
            .lang-switch { transform: none; top: 18px; right: 20px; gap: 10px; }
            .contact-float { width: 100%; bottom: 0; right: 0; text-align: center; clip-path: none; padding: 15px; font-size: 0.9rem; }
            .sticky-title { display: none; } /* Too big for mobile */
            .allergy-bomb { bottom: 80px; left: 20px; }
            .menu-section { padding: 60px 20px; }
            .section-name { font-size: 2rem; }
        }

    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body>

    <!-- VISUAL FX -->
    <div class="fx-grain"></div>
    <div class="cursor-outer"></div>
    <div class="cursor-inner"></div>

    <!-- SIDEBAR NAVIGATION -->
    <nav class="sidebar-nav">
        <div class="brand-vertical">KSIĘSTWO</div>
        <div class="nav-dots" id="nav-dots">
            <!-- Populated via JS -->
        </div>
        <div style="width: 20px;"></div> <!-- Spacer -->
    </nav>

    <!-- LANG TOGGLE -->
    <div class="lang-switch">
        <a href="#" class="lang-opt active" data-lang="pl">PL</a>
        <a href="#" class="lang-opt" data-lang="en">EN</a>
    </div>

    <!-- ALLERGY TRIGGER -->
    <button class="allergy-bomb" id="allergy-btn" data-hover>
        !
    </button>

    <!-- MAIN SCROLL CONTAINER -->
    <div class="viewport">
        
        <!-- HERO -->
        <header class="hero" id="top">
            <div class="hero-video-bg">
                <!-- Using a high-end sushi texture image as background -->
                <img src="images/zestawy.jpg" alt="Atmosphere">
            </div>
            <div class="hero-content">
                <h1 class="hero-title">
                    <span><i>KSIĘSTWO</i></span>
                    <span><i style="color:var(--accent)">SUSHI</i></span>
                </h1>
                <div class="hero-sub" data-i18n="subtitle">The Void Experience</div>
            </div>
        </header>

        <div class="main-stage" id="main-stage">
            <!-- Menu Sections injected here -->
        </div>

        <!-- FOOTER -->
        <footer style="padding: 100px 20px; text-align: center; color: #444; border-top: 1px solid #111; margin-top: 100px;">
            <p>Księstwo Sushi &copy; 2024</p>
            <p style="font-size: 0.8rem; margin-top: 10px; text-transform: uppercase; letter-spacing: 2px;">Digital Art Menu</p>
        </footer>
    </div>

    <!-- FLOATING CONTACT (MOBILE/DESKTOP) -->
    <a href="tel:+48502525544" class="contact-float" data-hover>
        <span data-i18n="bookTable">Book Table</span>
    </a>

    <!-- MODALS -->
    <div class="modal-glass" id="info-modal">
        <div class="glass-card">
            <button class="modal-close-btn">&times;</button>
            <h2 style="font-family: var(--font-head); color: var(--accent); margin-bottom: 20px;" data-i18n="allergyTitle">Allergies</h2>
            <p style="color: #ccc; line-height: 1.8;" data-i18n="allergyText">Info...</p>
            <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid rgba(255,255,255,0.1); color: #888; font-style: italic;" data-i18n="serviceText">Service info...</div>
        </div>
    </div>

    <div class="modal-glass" id="img-modal">
        <div class="glass-card" style="padding: 0; width: auto; max-width: 90vw; border: none; background: transparent;">
             <button class="modal-close-btn" style="z-index: 10;">&times;</button>
             <img src="" id="full-img" style="max-height: 90vh; max-width: 90vw; box-shadow: 0 0 50px rgba(198, 168, 124, 0.2);">
        </div>
    </div>

    <script>
        // --- DATA ENGINE ---
        const TEXTS = {
            subtitle: { en: 'Fine sushi — Menu', pl: 'Wyborne sushi — Menu' },
            bookTable: { en: 'Call to Order', pl: 'Zadzwoń i Zamów' },
            allergyTitle: { en: 'Allergy Information', pl: 'Informacja o alergenach' },
            allergyText: {
                en: 'Dishes may contain: gluten, cucumber, oshinko, kampyo, avocado, mango, melon, lettuce, sesame seeds, Philadelphia cream cheese, mayonnaise, sauces, edible gold.',
                pl: 'Dania mogą zawierać: gluten, ogórek, oshinko, kampyo, awokado, mango, melon, sałatę, sezam, serek philadelphia, majonez, sosy, złoto jadalne.'
            },
            serviceText: {
                en: '+10% service charge added to the final bill.',
                pl: 'Doliczamy 10% serwisu kelnerskiego do rachunku.'
            },
            tempura: { en: 'Tempura', pl: 'W Tempurze' }
        };

        const MENU = [
            {
                id: 'sets',
                jp: 'セット',
                title: { en: 'Sets', pl: 'Zestawy' },
                img: 'images/zestawy.jpg',
                desc: { en: 'Curated perfection. The essence of our craft.', pl: 'Starannie dobrane kompozycje naszych najlepszych rolek.' },
                items: [
                    { en: 'Ki Iro 14 pc.', pl: 'Ki Iro 14 szt.', price: '70', descEN: 'Hosomaki salmon, calabash, rainbow, ohio yaki', descPL: 'Hosomaki łosoś, tykwa, rainbow, ohioyaki' },
                    { en: 'Orenji 16 pc.', pl: 'Orenji 16 szt.', price: '90', descEN: 'Ebi ten, gold california, avocado kani, ohio yaki', descPL: 'Ebi ten, gold california, awokado kani, ohioyaki' },
                    { en: 'Aka 24 pc.', pl: 'Aka 24 szt.', price: '130', descEN: 'Gold california, ebi ten, mango sake, avocado kani, butterfish tempura', descPL: 'Gold california, ebi ten, mango sake, awokado kani, maślana tempura' }
                ]
            },
            {
                id: 'starters',
                jp: '前菜',
                title: { en: 'Starters', pl: 'Przystawki' },
                img: 'images/sake-tataki.jpg',
                desc: { en: 'Begin your journey with light, exquisite flavors.', pl: 'Rozpocznij podróż od lekkich, wykwintnych smaków.' },
                items: [
                    { en: 'Goma Wakame', pl: 'Goma Wakame', price: '20', descEN: 'Traditional seaweed salad', descPL: 'Sałatka z wodorostów' },
                    { en: 'Ebiten (3 pcs)', pl: 'Ebiten (3 szt.)', price: '30', descEN: 'Shrimp tempura, ponzu', descPL: 'Krewetka w tempurze, ponzu' },
                    { en: 'Sake Tataki', pl: 'Sake Tataki', price: '50', descEN: 'Salmon tartare', descPL: 'Tatar z łososia' },
                    { en: 'Maguro Tataki', pl: 'Maguro Tataki', price: '55', descEN: 'Tuna tartare', descPL: 'Tatar z tuńczyka' }
                ]
            },
            {
                id: 'soups',
                jp: 'スープ',
                title: { en: 'Soups', pl: 'Zupy' },
                img: 'images/ramen-zupa.jpg',
                desc: { en: 'Warmth for the soul. Rich, deep broths.', pl: 'Ciepło dla duszy. Bogate, głębokie buliony.' },
                items: [
                    { en: 'Ramen Chicken', pl: 'Ramen Kurczak', price: '48', descEN: 'Chicken, vegetables, noodles', descPL: 'Kurczak, warzywa, makaron' },
                    { en: 'Ramen Beef', pl: 'Ramen Wołowina', price: '55', descEN: 'Beef, vegetables, noodles', descPL: 'Wołowina, warzywa, makaron' }
                ]
            },
            {
                id: 'nigiri',
                title: { en: 'Nigiri', pl: 'Nigiri' },
                jp: '握り',
                img: 'images/nigiri1.jpg',
                desc: { en: 'Simplicity is the ultimate sophistication.', pl: 'Prostota jest szczytem wyrafinowania.' },
                items: [
                    { en: 'Sake', pl: 'Sake', price: '26', descEN: 'Salmon', descPL: 'Łosoś' },
                    { en: 'Maguro', pl: 'Maguro', price: '30', descEN: 'Tuna', descPL: 'Tuńczyk' },
                    { en: 'Unagi', pl: 'Unagi', price: '30', descEN: 'Eel', descPL: 'Węgorz' },
                    { en: 'Ebi', pl: 'Ebi', price: '30', descEN: 'Shrimp', descPL: 'Krewetka' },
                    { en: 'Hotate', pl: 'Hotate', price: '32', descEN: 'Scallop', descPL: 'Małże św. Jakuba' }
                ]
            },
            {
                id: 'futomaki',
                title: { en: 'Futomaki', pl: 'Futomaki' },
                jp: '太巻き',
                img: 'images/futomaki.jpg',
                desc: { en: 'Thick rolls, abundant fillings.', pl: 'Grube rolki, obfite nadzienie.' },
                items: [
                    { en: 'Sake Philadelphia', pl: 'Sake Philadelphia', price: '38', descEN: 'Salmon, cream cheese', descPL: 'Łosoś, serek' },
                    { en: 'Maguro Negi', pl: 'Maguro Negi', price: '42', descEN: 'Tuna, spicy leek', descPL: 'Tuńczyk, ostra dymka' },
                    { en: 'Ebi Tempura', pl: 'Ebi Tempura', price: '40', descEN: 'Shrimp tempura', descPL: 'Krewetka w tempurze' },
                    { en: 'Unagi Kabayaki', pl: 'Unagi Kabayaki', price: '45', descEN: 'Grilled eel', descPL: 'Grillowany węgorz' }
                ]
            },
            {
                id: 'uramaki',
                title: { en: 'Uramaki', pl: 'Uramaki' },
                jp: '裏巻き',
                img: 'images/tempura.jpg',
                desc: { en: 'Inside-out masterpieces.', pl: 'Odwrócone arcydzieła.' },
                isSplit: true,
                itemsLeft: [
                    { en: 'Gold California', pl: 'Gold California', price: '40', descEN: 'Surimi, salmon wrap', descPL: 'Surimi, owijane łososiem' },
                    { en: 'Rainbow', pl: 'Rainbow', price: '48', descEN: 'Fish assortment', descPL: 'Wachlarz ryb' },
                    { en: 'Kegon', pl: 'Kegon', price: '45', descEN: 'Eel wrap', descPL: 'Owijane węgorzem' }
                ],
                itemsRight: [
                    { en: 'Tempura Sake', pl: 'Tempura Sake', price: '38', descEN: 'Salmon', descPL: 'Łosoś' },
                    { en: 'Tempura Maguro', pl: 'Tempura Maguro', price: '42', descEN: 'Tuna', descPL: 'Tuńczyk' },
                    { en: 'Tempura Ebi', pl: 'Tempura Ebi', price: '40', descEN: 'Shrimp', descPL: 'Krewetka' }
                ]
            },
            {
                id: 'sashimi',
                title: { en: 'Sashimi', pl: 'Sashimi' },
                jp: '刺身',
                img: 'images/sashimi.jpg',
                desc: { en: 'Pure fish. No rice. Just taste.', pl: 'Czysta ryba. Bez ryżu. Tylko smak.' },
                items: [
                    { en: 'Mizu Set', pl: 'Zestaw Mizu', price: '95', descEN: 'Salmon, Tuna, Butterfish', descPL: 'Łosoś, Tuńczyk, Maślana' }
                ]
            }
        ];

        // --- CORE LOGIC ---
        const App = {
            lang: 'pl',
            
            init() {
                this.render();
                this.bindEvents();
                this.initCursor();
                this.initScrollSpy();
            },

            bindEvents() {
                // Lang Switch
                document.querySelectorAll('.lang-opt').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.setLang(btn.dataset.lang);
                    });
                });

                // Modals
                document.getElementById('allergy-btn').addEventListener('click', () => {
                    document.getElementById('info-modal').classList.add('active');
                    document.getElementById('allergy-btn').classList.add('hidden');
                });

                document.querySelectorAll('.modal-close-btn, .modal-glass').forEach(el => {
                    el.addEventListener('click', (e) => {
                        if(e.target === el) {
                            document.querySelectorAll('.modal-glass').forEach(m => m.classList.remove('active'));
                        }
                    });
                });
            },

            setLang(l) {
                if(this.lang === l) return;
                this.lang = l;
                document.querySelectorAll('.lang-opt').forEach(b => b.classList.toggle('active', b.dataset.lang === l));
                
                // Animate transition
                document.body.style.opacity = 0;
                setTimeout(() => {
                    this.render();
                    document.body.style.opacity = 1;
                }, 400);
            },

            render() {
                // 1. Static Texts
                document.querySelectorAll('[data-i18n]').forEach(el => {
                    const k = el.dataset.i18n;
                    if(TEXTS[k]) el.textContent = TEXTS[k][this.lang];
                });

                // 2. Navigation Dots
                const navHTML = MENU.map(s => `
                    <div class="nav-dot" data-label="${s.title[this.lang]}" onclick="document.getElementById('sec-${s.id}').scrollIntoView({behavior:'smooth'})" data-hover></div>
                `).join('');
                document.getElementById('nav-dots').innerHTML = navHTML;

                // 3. Main Stage Content
                const contentHTML = MENU.map(sec => {
                    const title = sec.title[this.lang];
                    const desc = sec.desc[this.lang];
                    
                    let itemsHTML = '';
                    if (sec.isSplit) {
                        itemsHTML = `
                        <div class="editorial-layout" style="margin-top:40px; border-top:1px solid #222; padding-top:20px;">
                            <div>
                                <h3 style="color:var(--accent); font-family:var(--font-head); margin-bottom:20px;">Uramaki</h3>
                                ${sec.itemsLeft.map(i => this.itemTpl(i)).join('')}
                            </div>
                            <div>
                                <h3 style="color:var(--accent); font-family:var(--font-head); margin-bottom:20px;">${TEXTS.tempura[this.lang]}</h3>
                                ${sec.itemsRight.map(i => this.itemTpl(i)).join('')}
                            </div>
                        </div>`;
                    } else {
                        itemsHTML = sec.items.map(i => this.itemTpl(i)).join('');
                    }

                    return `
                    <section class="menu-section" id="sec-${sec.id}">
                        <div class="sticky-title">${title}</div>
                        <div class="editorial-layout">
                            <div class="visuals-col">
                                <div class="main-image-frame" data-hover onclick="App.openImg('${sec.img}')">
                                    <div class="scanner-line"></div>
                                    <img src="${sec.img}" loading="lazy">
                                </div>
                                <div class="section-desc">${desc}</div>
                            </div>
                            <div class="items-col">
                                <div class="section-header">
                                    <h2 class="section-name">
                                        ${title} 
                                        <span class="section-jp">${sec.jp}</span>
                                    </h2>
                                </div>
                                <div class="dishes-list">
                                    ${itemsHTML}
                                </div>
                            </div>
                        </div>
                    </section>
                    `;
                }).join('');

                document.getElementById('main-stage').innerHTML = contentHTML;
            },

            itemTpl(item) {
                const name = this.lang === 'en' ? item.en : item.pl;
                const desc = this.lang === 'en' ? item.descEN : item.descPL;
                return `
                <div class="dish-item" data-hover>
                    <div class="dish-head">${name}</div>
                    <div class="dish-price">${item.price} <span style="font-size:0.6em">PLN</span></div>
                    <div class="dish-desc">${desc}</div>
                </div>
                `;
            },

            openImg(src) {
                document.getElementById('full-img').src = src;
                document.getElementById('img-modal').classList.add('active');
            },

            initCursor() {
                const outer = document.querySelector('.cursor-outer');
                const inner = document.querySelector('.cursor-inner');
                
                window.addEventListener('mousemove', e => {
                    inner.style.transform = `translate(${e.clientX}px, ${e.clientY}px) translate(-50%, -50%)`;
                    // Smooth follow
                    outer.animate({
                        transform: `translate(${e.clientX}px, ${e.clientY}px) translate(-50%, -50%)`
                    }, { duration: 500, fill: "forwards" });
                });

                document.body.addEventListener('mouseover', e => {
                    if (e.target.matches('[data-hover], [data-hover] *')) {
                        document.body.classList.add('hover-active');
                    } else {
                        document.body.classList.remove('hover-active');
                    }
                });
            },

            initScrollSpy() {
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const id = entry.target.id.replace('sec-', '');
                            // Highlight dot
                            document.querySelectorAll('.nav-dot').forEach(d => {
                                d.classList.toggle('active', d.dataset.label === MENU.find(m => m.id === id).title[this.lang]);
                            });
                        }
                    });
                }, { threshold: 0.3 });

                document.querySelectorAll('.menu-section').forEach(s => observer.observe(s));
            }
        };

        App.init();

    </script>
</body>
</html>
