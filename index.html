<!DOCTYPE html>
<html lang="pl" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, viewport-fit=cover" />
  <title>Księstwo Sushi & Ramen — ROYAL</title>
  
  <!-- FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700;800&family=Rajdhani:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- TAILWIND -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            cinzel: ['Cinzel', 'serif'],
            rajdhani: ['Rajdhani', 'sans-serif'],
          },
          colors: {
            paper: '#ffffff',
            alabaster: '#F0EFEA',
            gold: '#C5A028',
            'gold-light': '#F3E5AB',
            'gold-dark': '#8A7019',
            ink: '#080808', // Darker black
            smoke: '#4a4a4a',
          },
          animation: {
            'fade-in': 'fadeIn 1.2s ease-out forwards',
            'slide-up': 'slideUp 1.2s cubic-bezier(0.16, 1, 0.3, 1) forwards',
            'grow-line': 'growLine 1.5s ease-out forwards',
            'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'float': 'float 6s ease-in-out infinite',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideUp: {
              '0%': { transform: 'translateY(30px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            },
            growLine: {
              '0%': { width: '0', opacity: '0' },
              '100%': { width: '120px', opacity: '1' },
            },
            float: {
              '0%, 100%': { transform: 'translateY(0)' },
              '50%': { transform: 'translateY(-10px)' },
            }
          }
        }
      }
    }
  </script>

  <!-- REACT & BABEL -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    :root {
      --sat: env(safe-area-inset-top);
      --sab: env(safe-area-inset-bottom);
    }

    * {
      -webkit-tap-highlight-color: transparent;
      box-sizing: border-box;
    }

    html {
      -webkit-text-size-adjust: 100%;
      text-size-adjust: 100%;
      overscroll-behavior-y: none;
    }

    body {
      background-color: #080808;
      color: #080808;
      overflow-x: hidden;
      width: 100%;
      min-height: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      overscroll-behavior-y: none;
    }
    
    ::selection {
      background: #C5A028;
      color: #000;
      text-shadow: none;
    }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

    /* PARALLAX */
    .parallax-bg {
      background-attachment: fixed;
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
      will-change: transform;
    }
    
    @media (hover: none), (pointer: coarse), (max-width: 1024px) {
        .parallax-bg {
            background-attachment: scroll !important;
            background-position: center center !important;
        }
    }

    /* --- SENSUAL EFFECTS --- */
    
    /* 1. Film Grain / Noise Overlay */
    .noise-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 5;
      opacity: 0.04;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
    }

    /* 2. Text Glow */
    .text-glow {
      text-shadow: 0 0 15px rgba(197, 160, 40, 0.4);
    }
    .text-glow-white {
      text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
    }

    /* 3. Smooth fade mask for lists */
    .mask-fade-bottom {
      mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
      -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
    }

  </style>
<script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.1/",
    "react/": "https://aistudiocdn.com/react@^19.2.1/",
    "react": "https://aistudiocdn.com/react@^19.2.1"
  }
}
</script>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // --- UI TRANSLATIONS ---
    const UI_TEXT = {
      hero_subtitle: {
        en: "Experience the art of Japanese cuisine \n Reimagined for the modern era.",
        pl: "Poznaj sztukę japońskiej kuchni \n Stworzoną na nowo dla współczesności."
      },
      explore_btn: { en: "Explore Menu", pl: "Odkryj Menu" },
      description_label: { en: "Description", pl: "Opis" },
      uramaki_title: { en: "URAMAKI", pl: "URAMAKI" },
      tempura_title: { en: "TEMPURA", pl: "W TEMPURZE" },
      location_label: { en: "LOCATION", pl: "LOKALIZACJA" },
      contact_label: { en: "CONTACT", pl: "KONTAKT" },
      poland: { en: "Poland", pl: "Polska" },
      copyright: { en: "All Rights Reserved", pl: "Wszelkie prawa zastrzeżone" },
      tagline: { en: "Cinematic Dining", pl: "Kinowe Doświadczenie" }
    };

    // --- DATA CONSTANTS ---
    const DATA = [
      {
        id: 'sets',
        title: { en: 'Sushi Sets', pl: 'Zestawy Sushi' },
        img: 'images/zestawy.jpg', 
        desc: {
          en: 'Curated combinations of our finest rolls, perfect for experiencing a variety of flavors.',
          pl: 'Starannie dobrane kompozycje naszych najlepszych rolek, idealne do poznania różnorodności smaków.'
        },
        items: [
          {
            name: { en: 'OTO (16 pcs)', pl: 'OTO (16 szt.)' },
            price: '90 zł',
            desc: {
              en: '4x Gold California (surimi wrapped in raw salmon)\n4x Avocado Kani (surimi wrapped in avocado)\n4x Ohio Irygoma (butterfish rolled in black sesame)\n4x Ebi Ten (shrimp tempura)',
              pl: '4x Gold California (surimi owijane surowym łososiem)\n4x Awokado Kani (surimi owijane awokado)\n4x Ohio Irygoma (ryba maślana obtoczona w czarnym sezamie)\n4x Ebi Ten (krewetka w tempurze)'
            }
          },
          {
            name: { en: 'AKA (22 pcs)', pl: 'AKA (22 szt.)' },
            price: '130 zł',
            desc: {
              en: '4x Rainbow (surimi wrapped in variety of raw fish)\n4x Mango Sake (raw salmon wrapped in mango)\n4x Ebi Ten (shrimp tempura)\n4x Avocado Kani (surimi wrapped in avocado)\n6x Futomaki Ohio Yaki (baked butterfish)',
              pl: '4x Rainbow (surimi owijane wachlarzem surowych ryb)\n4x Mango Sake (surowy łosoś owijany mango)\n4x Ebi Ten (krewetka w tempurze)\n4x Awokado Kani (surimi owijane awokado)\n6x Futomaki Ohio Yaki (pieczona ryba maślana)'
            }
          },
          {
            name: { en: 'AKASHI (38 pcs)', pl: 'AKASHI (38 szt.)' },
            price: '210 zł',
            desc: {
              en: '8x Rainbow (surimi wrapped in variety of raw fish)\n8x Goma Sake Yaki (baked salmon topped with wakame)\n4x Ebi Ten (shrimp tempura)\n6x Sake Philadelphia (salmon with cream cheese)\n6x Ohio Ten (butterfish tempura)\n6x Maguro Spice (spicy tuna)',
              pl: '8x Rainbow (surimi owijane wachlarzem surowych ryb)\n8x Goma Sake Yaki (pieczony łosoś obłożony wakame)\n4x Ebi Ten (krewetka w tempurze)\n6x Sake Philadelphia (łosoś z serkiem philadelphia)\n6x Ohio Ten (maślana w tempurze)\n6x Maguro Spice (pikantny tuńczyk)'
            }
          },
          {
            name: { en: 'KUROISO (52 pcs)', pl: 'KUROISO (52 szt.)' },
            price: '290 zł',
            desc: {
              en: '8x Rainbow (surimi wrapped in variety of raw fish)\n8x Tempura Ohio (butterfish tempura)\n8x Goma Yaki Sake (salmon topped with wakame)\n8x Kegon (salmon wrapped in eel)\n8x Ebi Ten Ohio Tataki (shrimp tempura topped with butterfish tartare)\n6x Sake Philadelphia (salmon with cream cheese)\n6x Suzuki Yaki (spicy zander)',
              pl: '8x Rainbow (surimi owijane wachlarzem surowych ryb)\n8x Tempura Ohio (maślana w tempurze)\n8x Goma Yaki Sake (łosoś obłożony wakame)\n8x Kegon (łosoś owijany węgorzem)\n8x Ebi Ten Ohio Tataki (krewetka w tempurze obłożona tatarem z maślanej)\n6x Sake Philadelphia (łosoś z serkiem philadelphia)\n6x Suzuki Yaki (pikantny sandacz)'
            }
          },
          {
            name: { en: 'BIWA (60 pcs)', pl: 'BIWA (60 szt.)' },
            price: '340 zł',
            desc: {
              en: '8x Gold California (surimi wrapped in salmon)\n8x Ohio Ten Nashi (tempura butterfish wrapped in Japanese pear)\n8x Ebi Ten Avocado (tempura shrimp wrapped in avocado)\n8x Kegon (salmon wrapped in grilled eel)\n8x Tempura Cali Rae (spicy sea bream in tempura)\n6x Maguro Philadelphia (tuna with cream cheese)\n6x Ohio Spice Mango (spicy butterfish with mango)\n8x Nigiri (2x salmon, 2x tuna, 2x butterfish, 2x shrimp)',
              pl: '8x Gold California (surimi owijane łososiem)\n8x Ohio Ten Nashi (maślana w tempurze owijana japońską gruszką)\n8x Ebi Ten Avocado (krewetka w tempurze owijana awokado)\n8x Kegon (łosoś owijany węgorzem)\n8x Tempura Cali Rae (pikantna dorada cała w tempurze)\n6x Maguro Philadelphia (tuńczyk z serkiem philadelphia)\n6x Ohio Spice Mango (pikantna maślana z mango)\n8x Nigiri (2x łosoś, 2x tuńczyk, 2x maślana, 2x krewetka)'
            }
          }
        ]
      },
      {
        id: 'starters',
        title: { en: 'Starters', pl: 'Przystawki' },
        img: 'images/sake-tataki.jpg',
        desc: {
          en: 'A selection of light and fresh starters to begin your sushi experience.',
          pl: 'Wybór lekkich i świeżych przystawek na rozpoczęcie przygody z sushi.'
        },
        items: [
          {
            name: { en: 'Goma Wakame', pl: 'Goma Wakame' },
            price: '20 zł',
            desc: { en: 'seaweed salad', pl: 'sałatka z wodorostów' }
          },
          {
            name: { en: 'Ebi Ten (3 pcs)', pl: 'Ebi Ten (3 szt.)' },
            price: '30 zł',
            desc: { en: 'shrimp tempura served with ponzu sauce', pl: 'krewetki w tempurze z sosem ponzu' }
          },
          {
            name: { en: 'Sake Tataki', pl: 'Sake Tataki' },
            price: '50 zł',
            desc: { en: 'salmon tartare', pl: 'tatar z łososia' }
          },
          {
            name: { en: 'Maguro Tataki', pl: 'Maguro Tataki' },
            price: '55 zł',
            desc: { en: 'tuna tartare', pl: 'tatar z tuńczyka' }
          }
        ]
      },
      {
        id: 'soups',
        title: { en: 'Soups', pl: 'Zupy' },
        img: 'images/ramen-zupa.jpg',
        desc: {
          en: 'Traditional Japanese soups, including rich Ramen bowls with various fillings.',
          pl: 'Tradycyjne japońskie zupy, w tym bogate miski Ramenu z różnymi dodatkami.'
        },
        items: [
          {
            name: { en: 'Ramen Chicken', pl: 'Ramen Chicken' },
            price: '48 zł',
            desc: { en: 'flavorful broth with chicken, vegetables, and ramen noodles', pl: 'bulion z warzywami, mięsem i makaronem ramen' }
          },
          {
            name: { en: 'Ramen Beef', pl: 'Ramen Beef' },
            price: '55 zł',
            desc: { en: 'beef ramen', pl: 'ramen wołowy' }
          },
          {
            name: { en: 'Seafood Udon', pl: 'Seafood Udon' },
            price: '58 zł',
            desc: { en: 'Spicy seafood soup with vegetables and udon noodles', pl: 'Ostra zupa z owocami morza, warzywami i makaronem udon' }
          }
        ]
      },
      {
        id: 'nigiri',
        title: { en: 'Nigiri (2 pcs)', pl: 'Nigiri (2 szt.)' },
        img: 'images/nigiri1.jpg',
        desc: {
          en: 'Hand-pressed rice topped with fresh fish or seafood.',
          pl: 'Ręcznie formowany ryż z slajsem świeżej ryby lub owoców morza.'
        },
        items: [
          { name: { en: 'Sake', pl: 'Sake' }, price: '26 zł', desc: { en: 'salmon', pl: 'łosoś' } },
          { name: { en: 'Ohio', pl: 'Ohio' }, price: '25 zł', desc: { en: 'butterfish', pl: 'ryba maślana' } },
          { name: { en: 'Maguro', pl: 'Maguro' }, price: '30 zł', desc: { en: 'tuna', pl: 'tuńczyk' } },
          { name: { en: 'Unagi', pl: 'Unagi' }, price: '30 zł', desc: { en: 'eel', pl: 'węgorz' } },
          { name: { en: 'Hotate', pl: 'Hotate' }, price: '32 zł', desc: { en: 'scallops', pl: 'małże św. Jakuba' } },
          { name: { en: 'Tako', pl: 'Tako' }, price: '30 zł', desc: { en: 'octopus', pl: 'ośmiornica' } },
          { name: { en: 'Ika', pl: 'Ika' }, price: '30 zł', desc: { en: 'squid', pl: 'kalmar' } },
          { name: { en: 'Ebi', pl: 'Ebi' }, price: '30 zł', desc: { en: 'shrimp', pl: 'krewetka' } }
        ]
      },
      {
        id: 'futomaki',
        title: { en: 'Futomaki (4 pcs)', pl: 'Futomaki (4 szt.)' },
        img: 'images/futomaki.jpg',
        desc: {
          en: 'Thick, traditional rolls with nori on the outside.',
          pl: 'Grube, tradycyjne rolki z nori na zewnątrz.'
        },
        items: [
          { name: { en: 'Sake Philadelphia', pl: 'Sake Philadelphia' }, price: '38 zł', desc: { en: 'salmon with philadelphia cream cheese', pl: 'łosoś z serkiem philadelphia' } },
          { name: { en: 'Maguro Negi Togarashi', pl: 'Maguro Negi Togarashi' }, price: '42 zł', desc: { en: 'tuna with spicy leek', pl: 'tuńczyk z porem na ostro' } },
          { name: { en: 'Ohio Spice Mango', pl: 'Ohio Spice Mango' }, price: '40 zł', desc: { en: 'spicy butterfish with mango', pl: 'pikantna ryba maślana z mango' } },
          { name: { en: 'Ebi Spicy', pl: 'Ebi Spicy' }, price: '40 zł', desc: { en: 'spicy shrimp', pl: 'pikantna krewetka' } },
          { name: { en: 'Ebi Tempura', pl: 'Ebi Tempura' }, price: '40 zł', desc: { en: 'shrimp tempura', pl: 'krewetka w tempurze' } },
          { name: { en: 'Unagi Kabayaki', pl: 'Unagi Kabayaki' }, price: '45 zł', desc: { en: 'grilled eel with kabayaki sauce', pl: 'grillowany węgorz w sosie kabayaki' } },
          { name: { en: 'Ika Tempura', pl: 'Ika Tempura' }, price: '48 zł', desc: { en: 'squid tempura', pl: 'kalmar w tempurze' } },
          { name: { en: 'Veggie', pl: 'Veggie' }, price: '36 zł', desc: { en: 'vegetables', pl: 'warzywa' } }
        ]
      },
      {
        id: 'uramaki',
        title: { en: 'Uramaki & Tempura (8 pcs)', pl: 'Uramaki & Tempura (8 szt.)' },
        img: 'images/tempura.jpg',
        desc: {
          en: 'Our selection of Uramaki (inside-out rolls) and crispy Tempura Uramaki.',
          pl: 'Nasz wybór Uramaki (rolek ryżem na zewnątrz) oraz chrupiących Uramaki w Tempurze.'
        },
        isSplit: true,
        items: [
          { name: { en: 'Sake Philadelphia', pl: 'Sake Philadelphia' }, price: '38 zł', desc: { en: 'salmon with philadelphia cream cheese', pl: 'łosoś z serkiem philadelphia' } },
          { name: { en: 'Awokado Sake', pl: 'Awokado Sake' }, price: '42 zł', desc: { en: 'salmon wrapped in avocado', pl: 'łosoś owijany awokado' } },
          { name: { en: 'Mango Sake', pl: 'Mango Sake' }, price: '42 zł', desc: { en: 'salmon wrapped in mango', pl: 'łosoś owijany mango' } },
          { name: { en: 'Maguro Orange Pepper', pl: 'Maguro Orange Pepper' }, price: '45 zł', desc: { en: 'tuna with chopped leek and orange pepper', pl: 'tuńczyk z siekanym porem i orange pepper' } },
          { name: { en: 'Ebi Ten Mamemori', pl: 'Ebi Ten Mamemori' }, price: '42 zł', desc: { en: 'shrimp tempura wrapped in soy paper', pl: 'krewetka w tempurze zawijana w papier sojowy' } },
          { name: { en: 'Gold California', pl: 'Gold California' }, price: '40 zł', desc: { en: 'surimi wrapped in salmon', pl: 'surimi owijane łososiem' } },
          { name: { en: 'Rainbow', pl: 'Rainbow' }, price: '48 zł', desc: { en: 'surimi wrapped in assorted fish', pl: 'surimi owijane wachlarzem ryb' } },
          { name: { en: 'Ohio Spice Sake', pl: 'Ohio Spice Sake' }, price: '42 zł', desc: { en: 'salmon wrapped in butterfish', pl: 'łosoś owijany opalaną maślaną' } },
          { name: { en: 'Maguro Spicy Ebi Ten', pl: 'Maguro Spicy Ebi Ten' }, price: '45 zł', desc: { en: 'shrimp tempura wrapped in seared tuna', pl: 'krewetka w tempurze owijana opalanym tuńczykiem' } },
          { name: { en: 'Kegon', pl: 'Kegon' }, price: '45 zł', desc: { en: 'salmon wrapped in grilled eel', pl: 'łosoś owijany grillowanym węgorzem' } },
          { name: { en: 'Sake Aburi', pl: 'Sake Aburi' }, price: '45 zł', desc: { en: 'salmon wrapped in seared spicy salmon', pl: 'łosoś owijany opalanym pikantnym łososiem' } },
          { name: { en: 'Tobiko Ohio Ten', pl: 'Tobiko Ohio Ten' }, price: '48 zł', desc: { en: 'butterfish in tempura coated with caviar', pl: 'maślana w tempurze obtoczona kawiorem z latającej ryby' } },
          { name: { en: 'Nashi Sake', pl: 'Nashi Sake' }, price: '45 zł', desc: { en: 'salmon wrapped in Japanese pear', pl: 'łosoś owijany japońską gruszką' } },
          { name: { en: 'Sake Tataki Ebiten', pl: 'Sake Tataki Ebiten' }, price: '48 zł', desc: { en: 'shrimp tempura wrapped in salmon tartare', pl: 'krewetka w tempurze obłożona tatarem z łososia' } }
        ],
        itemsRight: [
          { name: { en: 'Tempura Sake', pl: 'Tempura Sake' }, price: '38 zł', desc: { en: 'salmon', pl: 'łosoś' } },
          { name: { en: 'Tempura Ohio', pl: 'Tempura Ohio' }, price: '38 zł', desc: { en: 'butterfish', pl: 'maślana' } },
          { name: { en: 'Tempura Maguro', pl: 'Tempura Maguro' }, price: '42 zł', desc: { en: 'tuna', pl: 'tuńczyk' } },
          { name: { en: 'Tempura Ebi', pl: 'Tempura Ebi' }, price: '40 zł', desc: { en: 'steamed shrimp', pl: 'parzona krewetka' } },
          { name: { en: 'Tempura Unagi Kabayaki', pl: 'Tempura Unagi Kabayaki' }, price: '45 zł', desc: { en: 'grilled eel', pl: 'grillowany węgorz' } }
        ]
      },
      {
        id: 'oyakomaki',
        title: { en: 'Oyakomaki (2 pcs)', pl: 'Oyakomaki (2 szt.)' },
        img: 'images/oyakomaki.jpg',
        desc: {
          en: 'Our specialty rolls, often wrapped in fish or avocado instead of nori.',
          pl: 'Nasze specjalne rolki, często zawijane w rybę lub awokado zamiast nori.'
        },
        items: [
          { name: { en: 'Sake Ebi Tataki', pl: 'Sake Ebi Tataki' }, price: '36 zł', desc: { en: 'chopped shrimp wrapped in salmon', pl: 'siekana krewetka owijana w łososia' } },
          { name: { en: 'Sake Ikura', pl: 'Sake Ikura' }, price: '42 zł', desc: { en: 'caviar with salmon wrapped in tuna', pl: 'kawior z łososia owijany tuńczykiem' } },
          { name: { en: 'Maguro Sake Tataki', pl: 'Maguro Sake Tataki' }, price: '45 zł', desc: { en: 'chopped salmon wrapped in tuna', pl: 'siekany łosoś owijany tuńczykiem' } }
        ]
      },
      {
        id: 'sashimi',
        title: { en: 'Sashimi (9 pcs)', pl: 'Sashimi (9 szt.)' },
        img: 'images/sashimi.jpg',
        desc: {
          en: 'Thinly sliced raw fish and seafood, served without rice.',
          pl: 'Cienko krojone slajsy surowej ryby i owoców morza, podawane bez ryżu.'
        },
        items: [
          { name: { en: 'Mizu', pl: 'Mizu' }, price: '95 zł', desc: { en: 'slices of raw fish — salmon, tuna, butterfish', pl: 'slajsy surowej ryby — łosoś, tuńczyk, maślana' } }
        ]
      }
    ];

    const ALLERGIES = {
      title: { en: 'Allergy Information', pl: 'Informacja o alergenach' },
      text: {
        en: 'According to the recipe, they may contain: gluten, cucumber, oshinko, kampyo, avocado, mango, melon, lettuce, sesame seeds, Philadelphia cream cheese, mayonnaise, sauces, edible gold.',
        pl: 'Zgodnie z recepturą mogą zawierać: gluten, ogórek, oshinko, kampyo, awokado, mango, melon, sałatę, sezam, serek philadelphia, majonez, sosy, złoto jadalne.'
      },
      service: {
        en: 'We kindly inform you that we add a waiter service of 10% to the final bill.',
        pl: 'Uprzejmie informujemy, że doliczamy serwis kelnerski w wysokości 10% do rachunku końcowego.'
      }
    };

    // --- COMPONENTS ---

    // 1. Spotlight Effect
    const Spotlight = () => {
        const spotlightRef = useRef(null);

        useEffect(() => {
            const handleMouseMove = (e) => {
                if (spotlightRef.current) {
                    spotlightRef.current.style.setProperty('--x', `${e.clientX}px`);
                    spotlightRef.current.style.setProperty('--y', `${e.clientY}px`);
                }
            };
            window.addEventListener('mousemove', handleMouseMove);
            return () => window.removeEventListener('mousemove', handleMouseMove);
        }, []);

        return (
            <div 
                ref={spotlightRef}
                className="pointer-events-none fixed inset-0 z-30 transition-opacity duration-300 opacity-0 lg:opacity-100"
                style={{
                    background: 'radial-gradient(600px circle at var(--x) var(--y), rgba(197, 160, 40, 0.08), transparent 40%)',
                }}
            />
        );
    };

    // 2. Dynamic Island
    const DynamicIsland = ({ lang, setLang, onOpenInfo }) => {
      const [expanded, setExpanded] = useState(false);
      const islandRef = useRef(null);

      // Handle click outside to close on mobile/desktop
      useEffect(() => {
        const handleClickOutside = (event) => {
          if (expanded && islandRef.current && !islandRef.current.contains(event.target)) {
            setExpanded(false);
          }
        };
        // Use mousedown/touchstart to catch interaction early
        document.addEventListener('mousedown', handleClickOutside);
        document.addEventListener('touchstart', handleClickOutside);
        return () => {
          document.removeEventListener('mousedown', handleClickOutside);
          document.removeEventListener('touchstart', handleClickOutside);
        };
      }, [expanded]);

      return (
        <div 
          ref={islandRef}
          className="fixed top-[max(1.5rem,env(safe-area-inset-top))] left-1/2 -translate-x-1/2 z-50 flex flex-col items-center transition-all duration-500 ease-[cubic-bezier(0.32,0.72,0,1)]"
          onMouseEnter={() => setExpanded(true)}
          onMouseLeave={() => setExpanded(false)}
        >
          <div 
            className={`bg-ink/80 backdrop-blur-2xl text-white shadow-[0_8px_32px_rgba(0,0,0,0.5)] border border-white/5 transition-all duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] overflow-hidden flex flex-col touch-manipulation ${
              expanded ? 'w-[90vw] max-w-[500px] rounded-[32px] p-8' : 'w-[140px] h-[44px] rounded-full cursor-pointer hover:w-[160px] hover:shadow-[0_0_20px_rgba(197,160,40,0.3)]'
            }`}
            onClick={() => !expanded && setExpanded(true)}
          >
            {/* Collapsed */}
            {!expanded && (
              <div className="w-full h-full flex items-center justify-center gap-3">
                <div className="w-1.5 h-1.5 rounded-full bg-gold animate-pulse shadow-[0_0_8px_var(--gold)]"></div>
                <span className="font-cinzel font-bold text-xs tracking-[0.2em] text-gold text-glow">MENU</span>
              </div>
            )}

            {/* Expanded */}
            <div className={`flex flex-col gap-6 w-full transition-all duration-500 ${expanded ? 'opacity-100 delay-100 blur-0' : 'opacity-0 blur-sm hidden'}`}>
              
              <div className="flex justify-between items-center border-b border-white/5 pb-4">
                 <div className="flex items-center gap-3">
                   <div className="w-8 h-8 rounded-full bg-gold text-ink flex items-center justify-center font-cinzel font-bold text-sm shadow-[0_0_15px_rgba(197,160,40,0.5)]">KS</div>
                   <span className="font-cinzel text-lg tracking-[0.2em] text-white/90">KSIĘSTWO</span>
                 </div>
                 <button onClick={(e) => { e.stopPropagation(); setExpanded(false); }} className="text-white/30 hover:text-white p-2 touch-manipulation transition-colors">&times;</button>
              </div>

              <div 
                className="grid grid-cols-2 gap-3 max-h-[40vh] overflow-y-auto no-scrollbar mask-fade-bottom"
                style={{ overscrollBehavior: 'contain' }}
              >
                {DATA.map(s => (
                  <button 
                    key={s.id}
                    onClick={(e) => {
                      e.stopPropagation();
                      document.getElementById(s.id)?.scrollIntoView({ behavior: 'smooth' });
                      setExpanded(false);
                    }}
                    className="text-left px-4 py-3 rounded-xl bg-white/5 hover:bg-gold/10 hover:text-gold transition-all duration-300 font-rajdhani text-sm uppercase tracking-wider touch-manipulation active:scale-95 border border-transparent hover:border-gold/20"
                  >
                    {s.title[lang]}
                  </button>
                ))}
              </div>

              <div className="flex justify-between items-center pt-2">
                 <div className="flex bg-white/5 rounded-full p-1 gap-1 border border-white/5">
                    <button 
                      onClick={(e) => { e.stopPropagation(); setLang('pl'); }}
                      className={`w-10 h-8 rounded-full text-xs font-bold transition-all duration-300 touch-manipulation ${lang === 'pl' ? 'bg-gold text-ink shadow-[0_0_10px_rgba(197,160,40,0.4)]' : 'text-white/40 hover:text-white'}`}
                    >PL</button>
                    <button 
                      onClick={(e) => { e.stopPropagation(); setLang('en'); }}
                      className={`w-10 h-8 rounded-full text-xs font-bold transition-all duration-300 touch-manipulation ${lang === 'en' ? 'bg-gold text-ink shadow-[0_0_10px_rgba(197,160,40,0.4)]' : 'text-white/40 hover:text-white'}`}
                    >EN</button>
                 </div>
                 <button 
                   onClick={(e) => { e.stopPropagation(); onOpenInfo(); setExpanded(false); }}
                   className="w-8 h-8 rounded-full border border-white/10 flex items-center justify-center text-gold hover:bg-gold hover:text-ink transition-all duration-300 touch-manipulation shadow-[0_0_10px_rgba(0,0,0,0.5)]"
                 >!</button>
              </div>
            </div>
          </div>
        </div>
      );
    };

    // 3. Menu Components
    const MenuItemRow = ({ item, lang, isOpen, onToggle }) => {
      return (
        <div className="border-b border-white/5 last:border-0 relative">
          <div 
            onClick={onToggle}
            className="flex items-center justify-between py-8 cursor-pointer group hover:pl-6 transition-all duration-500 touch-manipulation"
          >
            <div className="flex flex-col pr-4 relative z-10">
               <span className={`font-cinzel text-xl md:text-2xl transition-all duration-500 ${isOpen ? 'text-gold font-bold text-glow' : 'text-gray-300 group-hover:text-gold group-hover:text-glow-white'}`}>
                 {item.name[lang]}
               </span>
            </div>
            <div className="flex items-center gap-4 shrink-0 relative z-10">
               <span className="font-cinzel text-gold text-lg md:text-xl min-w-[3ch] text-right text-glow">{item.price}</span>
               <span className={`text-gray-500 transform transition-transform duration-700 ${isOpen ? 'rotate-180 text-gold' : 'rotate-0'}`}>▼</span>
            </div>
            
            {/* Hover Glow Background */}
            <div className="absolute inset-0 bg-gradient-to-r from-gold/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"></div>
          </div>

          <div 
            className={`overflow-hidden transition-all duration-700 ease-[cubic-bezier(0.25,1,0.5,1)] ${isOpen ? 'max-h-[500px] opacity-100 pb-10' : 'max-h-0 opacity-0'}`}
          >
             <div className="flex flex-col items-start pt-2 px-6 border-l border-gold/40 ml-2">
                <h4 className="font-cinzel text-gold/70 text-xs tracking-[0.2em] uppercase mb-4 inline-block">
                  {UI_TEXT.description_label[lang]}
                </h4>
                <p className="font-rajdhani text-gray-300 text-lg md:text-xl leading-relaxed whitespace-pre-line font-light tracking-wide">
                  {item.desc[lang]}
                </p>
             </div>
          </div>
        </div>
      );
    };

    const MenuItemSimple = ({ item, lang }) => (
      <div className="py-8 border-b border-white/5 last:border-0 group px-6 -mx-6 rounded-2xl hover:bg-white/[0.02] transition-colors duration-500 relative overflow-hidden">
        <div className="flex justify-between items-baseline gap-4 mb-3 relative z-10">
           <h3 className="font-cinzel text-xl text-gray-200 font-medium group-hover:text-gold transition-colors duration-500 group-hover:text-glow">
             {item.name[lang]}
           </h3>
           <div className="flex items-center gap-3 shrink-0">
             <span className="font-cinzel text-gold text-lg whitespace-nowrap text-glow">
               {item.price}
             </span>
           </div>
        </div>
        <p className="font-rajdhani text-gray-500 text-base leading-relaxed max-w-3xl relative z-10 group-hover:text-gray-400 transition-colors duration-500">
          {item.desc[lang]}
        </p>
      </div>
    );

    const MenuSection = ({ data, lang, index }) => {
      const [openItemId, setOpenItemId] = useState(null);
      const toggleItem = (idx) => setOpenItemId(openItemId === idx ? null : idx);
      const isSets = data.id === 'sets';

      return (
        <section id={data.id} className="mb-0 w-full relative group">
          
          <div className="w-full h-[100svh] md:h-[80vh] relative flex items-center justify-center overflow-hidden">
            <div 
               className="absolute inset-0 parallax-bg opacity-80"
               style={{ backgroundImage: `url(${data.img || 'https://picsum.photos/1920/1080'})` }}
            ></div>
            
            {/* Deep Cinematic Gradient Overlay */}
            <div className="absolute inset-0 bg-gradient-to-b from-ink via-transparent to-ink"></div>
            <div className="absolute inset-0 bg-black/30"></div>
            
            <div className="relative z-10 text-center text-white px-4 animate-fade-in mix-blend-screen">
               <span className="block font-cinzel text-gold text-lg md:text-xl tracking-[0.4em] mb-4 text-glow opacity-80">0{index + 1}</span>
               <h2 className="font-cinzel text-5xl md:text-8xl font-bold tracking-[0.15em] uppercase mb-6 drop-shadow-2xl text-white">
                 {data.title[lang]}
               </h2>
               <p className="font-rajdhani text-lg md:text-2xl max-w-2xl mx-auto text-gray-300 font-light tracking-wider leading-relaxed">
                 {data.desc[lang]}
               </p>
               {data.note && (
                 <div className="mt-10 inline-block bg-black/40 backdrop-blur-md px-8 py-3 rounded-full border border-white/10 text-sm font-rajdhani tracking-widest text-gold-light">
                   {data.note[lang]}
                 </div>
               )}
            </div>
          </div>

          <div className="max-w-5xl mx-auto px-6 py-24 md:py-36 relative -mt-32 rounded-t-[3rem] z-20 bg-gradient-to-b from-ink to-ink/95 shadow-[0_-50px_100px_-20px_rgba(0,0,0,0.8)] border-t border-white/5">
             {data.isSplit ? (
               <div className="space-y-24">
                 <div>
                   <h3 className="text-center font-cinzel text-2xl text-gold mb-16 tracking-[0.3em] uppercase text-glow opacity-90">{UI_TEXT.uramaki_title[lang]}</h3>
                   <div className="flex flex-col">
                     {data.items.map((item, i) => (
                       isSets ? (
                         <MenuItemRow 
                           key={`l-${i}`} 
                           item={item} 
                           lang={lang} 
                           isOpen={openItemId === i} 
                           onToggle={() => toggleItem(i)} 
                         />
                       ) : (
                         <MenuItemSimple key={`l-${i}`} item={item} lang={lang} />
                       )
                     ))}
                   </div>
                 </div>
                 <div>
                   <h3 className="text-center font-cinzel text-2xl text-gold mb-16 tracking-[0.3em] uppercase text-glow opacity-90">{UI_TEXT.tempura_title[lang]}</h3>
                   <div className="flex flex-col">
                     {data.itemsRight?.map((item, i) => {
                       const idx = i + 1000;
                       return isSets ? (
                        <MenuItemRow 
                          key={`r-${i}`} 
                          item={item} 
                          lang={lang} 
                          isOpen={openItemId === idx} 
                          onToggle={() => toggleItem(idx)} 
                        />
                       ) : (
                        <MenuItemSimple key={`r-${i}`} item={item} lang={lang} />
                       )
                     })}
                   </div>
                 </div>
               </div>
             ) : (
               <div className="flex flex-col">
                  {data.items.map((item, i) => (
                    isSets ? (
                      <MenuItemRow 
                        key={i} 
                        item={item} 
                        lang={lang} 
                        isOpen={openItemId === i} 
                        onToggle={() => toggleItem(i)} 
                      />
                    ) : (
                      <MenuItemSimple key={i} item={item} lang={lang} />
                    )
                  ))}
               </div>
             )}
          </div>
        </section>
      );
    };

    // 4. Intro & Selection
    const Intro = ({ onComplete }) => {
      const [opacity, setOpacity] = useState(1);
      const [mounted, setMounted] = useState(true);
      const hasRun = useRef(false);

      useEffect(() => {
        if (hasRun.current) return;
        hasRun.current = true;

        const timer = setTimeout(() => {
          setOpacity(0);
          setTimeout(() => {
            setMounted(false);
            onComplete();
          }, 1200); 
        }, 2200); // Slightly longer for mood
        return () => clearTimeout(timer);
      }, [onComplete]);

      if (!mounted) return null;

      return (
        <div 
          className="fixed inset-0 z-[9999] bg-ink flex flex-col items-center justify-center transition-opacity duration-[1500ms] h-[100svh]"
          style={{ opacity }}
        >
          <div className="absolute inset-0 bg-black opacity-40 z-0"></div>
          <div className="relative z-10 text-center p-8 flex flex-col items-center">
            <h1 className="font-cinzel text-6xl md:text-9xl text-white font-bold tracking-[0.2em] mb-8 animate-slide-up text-glow-white">
              KS
            </h1>
            <div className="h-[1px] bg-gradient-to-r from-transparent via-gold to-transparent mb-8 animate-grow-line shadow-[0_0_10px_var(--gold)]"></div>
            <div className="text-gold uppercase tracking-[0.6em] font-rajdhani text-sm animate-fade-in text-glow" style={{animationDelay: '0.8s', opacity: 0, animationFillMode: 'forwards'}}>
              CINEMATIC DINING
            </div>
          </div>
        </div>
      );
    };

    const LanguageSelection = ({ onSelect }) => {
      const [opacity, setOpacity] = useState(0);
      
      useEffect(() => {
        setTimeout(() => setOpacity(1), 100);
      }, []);

      const handleSelect = (l) => {
        setOpacity(0);
        setTimeout(() => onSelect(l), 800);
      };

      return (
        <div 
          className="fixed inset-0 z-[9990] bg-ink flex flex-col items-center justify-center transition-opacity duration-1000 h-[100svh]"
          style={{ opacity }}
        >
           {/* Noise Overlay in Lang Selection */}
           <div className="noise-bg"></div>

          <div className="relative z-10 text-center p-8 w-full max-w-lg flex flex-col items-center">
             <div className="w-20 h-20 border border-gold/30 text-gold flex items-center justify-center font-cinzel text-2xl mx-auto mb-20 animate-fade-in shadow-[0_0_30px_rgba(197,160,40,0.1)] rounded-full">KS</div>
             
             <div className="flex flex-col md:flex-row gap-8 justify-center w-full items-center">
               <button 
                 onClick={() => handleSelect('pl')}
                 className="w-48 h-16 border border-white/10 hover:border-gold/50 bg-white/[0.02] hover:bg-gold/5 transition-all duration-700 flex items-center justify-center group touch-manipulation"
               >
                 <span className="font-cinzel text-white text-xl tracking-[0.3em] group-hover:text-gold transition-colors duration-500 group-hover:text-glow">PL</span>
               </button>

               <button 
                 onClick={() => handleSelect('en')}
                 className="w-48 h-16 border border-white/10 hover:border-gold/50 bg-white/[0.02] hover:bg-gold/5 transition-all duration-700 flex items-center justify-center group touch-manipulation"
               >
                 <span className="font-cinzel text-white text-xl tracking-[0.3em] group-hover:text-gold transition-colors duration-500 group-hover:text-glow">EN</span>
               </button>
             </div>
          </div>
        </div>
      );
    };

    const App = () => {
      const [phase, setPhase] = useState('intro');
      const [lang, setLang] = useState('pl');
      const [showInfo, setShowInfo] = useState(false);
      
      useEffect(() => {
        // Always dark mode for this sensual theme
        document.body.style.backgroundColor = '#080808'; 
        if (phase === 'app') {
            document.documentElement.classList.remove('overflow-hidden');
        } else {
            document.documentElement.classList.add('overflow-hidden');
        }
      }, [phase]);

      const handleIntroComplete = () => {
          setPhase('lang');
      };

      const handleLangSelect = (l) => {
          setLang(l);
          setPhase('app');
      };

      return (
        <React.Fragment>
          {/* Global Noise Overlay */}
          <div className="noise-bg"></div>
          
          {phase === 'intro' && <Intro onComplete={handleIntroComplete} />}
          
          {phase === 'lang' && <LanguageSelection onSelect={handleLangSelect} />}

          {/* Main App Content */}
          <div className={`min-h-screen bg-ink transition-opacity duration-1000 ease-in-out ${phase === 'app' ? 'opacity-100 relative' : 'opacity-0 fixed inset-0 pointer-events-none'}`}>
            
            {phase === 'app' && (
             <React.Fragment>
                <Spotlight />
                <DynamicIsland lang={lang} setLang={setLang} onOpenInfo={() => setShowInfo(true)} />
                
                {/* HERO LANDING */}
                <div className="h-[100svh] w-full relative flex items-center justify-center overflow-hidden">
                  <div className="absolute inset-0 bg-ink">
                      <img 
                        src="images/zestawy.jpg" 
                        className="w-full h-full object-cover opacity-50 mix-blend-overlay scale-105 animate-pulse-slow"
                        alt="Hero"
                      />
                  </div>
                  {/* Deep vignettes */}
                  <div className="absolute inset-0 bg-gradient-to-t from-ink via-transparent to-ink/50"></div>
                  <div className="absolute inset-0 bg-radial-gradient"></div>

                  <div className="relative z-10 text-center px-6">
                      <h1 className="font-cinzel text-5xl md:text-8xl text-white font-bold tracking-[0.2em] mb-8 drop-shadow-2xl opacity-90">
                        KSIĘSTWO
                        <span className="block text-gold text-2xl md:text-4xl mt-6 tracking-[0.4em] font-light border-t border-b border-gold/20 py-6 mx-auto max-w-3xl text-glow">
                          SUSHI & RAMEN
                        </span>
                      </h1>
                      <p className="font-rajdhani text-gray-400 tracking-[0.2em] uppercase text-sm md:text-base max-w-lg mx-auto leading-loose pt-4 whitespace-pre-line opacity-80">
                        {UI_TEXT.hero_subtitle[lang]}
                      </p>
                      <button 
                        onClick={() => document.getElementById('sets')?.scrollIntoView({ behavior: 'smooth' })}
                        className="mt-16 px-10 py-5 border border-gold/40 text-gold font-cinzel hover:bg-gold/10 hover:border-gold transition-all duration-700 uppercase tracking-[0.2em] text-xs hover:text-glow touch-manipulation"
                      >
                        {UI_TEXT.explore_btn[lang]}
                      </button>
                  </div>
                  
                  <div className="absolute bottom-12 left-1/2 -translate-x-1/2 animate-float text-gold/30 text-2xl">
                      ↓
                  </div>
                </div>

                <main className="relative z-10 w-full bg-ink">
                    {DATA.map((section, idx) => (
                      <MenuSection 
                        key={section.id} 
                        data={section} 
                        lang={lang} 
                        index={idx}
                      />
                    ))}
                </main>

                <footer className="bg-ink text-white pt-40 pb-20 px-6 border-t border-white/5 relative overflow-hidden">
                  <div className="absolute top-0 left-1/2 -translate-x-1/2 w-[80%] h-[1px] bg-gradient-to-r from-transparent via-gold/30 to-transparent"></div>
                  
                  <div className="max-w-4xl mx-auto text-center relative z-10">
                      <div className="w-24 h-24 border border-gold/30 text-gold flex items-center justify-center font-cinzel text-3xl mx-auto mb-16 rounded-full shadow-[0_0_20px_rgba(197,160,40,0.1)]">KS</div>
                      
                      <div className="grid md:grid-cols-2 gap-16 mb-24 text-left md:text-center font-rajdhani text-gray-500">
                          <div>
                            <h5 className="text-white/80 font-cinzel tracking-[0.2em] mb-6 text-glow-white">{UI_TEXT.location_label[lang]}</h5>
                            <a href="https://maps.app.goo.gl/T5n17WJtzwm2L7VTA" target="_blank" rel="noopener noreferrer" className="hover:text-gold transition-colors block leading-loose touch-manipulation duration-500">
                              <p>Krupówki 38A, Zakopane</p>
                              <p>{UI_TEXT.poland[lang]}</p>
                            </a>
                          </div>
                          <div>
                            <h5 className="text-white/80 font-cinzel tracking-[0.2em] mb-6 text-glow-white">{UI_TEXT.contact_label[lang]}</h5>
                            <a href="tel:+48502525544" className="hover:text-gold transition-colors block mb-2 touch-manipulation duration-500">+48 502 525 544</a>
                            <a href="https://instagram.com/ksiestwosushi" target="_blank" rel="noopener noreferrer" className="hover:text-gold transition-colors block touch-manipulation duration-500">@ksiestwosushi</a>
                          </div>
                      </div>

                      <div className="text-[10px] text-white/20 font-rajdhani tracking-[0.4em] uppercase pt-12 border-t border-white/5">
                        © 2025 Księstwo Sushi & Ramen. {UI_TEXT.copyright[lang]}
                      </div>
                  </div>
                </footer>

                {showInfo && (
                  <div 
                    className="fixed inset-0 z-[100] bg-black/90 backdrop-blur-md flex justify-center items-center p-6 transition-all h-[100svh]"
                    onClick={() => setShowInfo(false)}
                  >
                    <div 
                      className="bg-[#111] max-w-xl w-full p-12 relative shadow-[0_0_50px_rgba(0,0,0,0.8)] border border-white/10 rounded-2xl"
                      onClick={(e) => e.stopPropagation()}
                    >
                      <button 
                        className="absolute top-6 right-6 text-3xl text-gray-500 hover:text-gold transition-colors leading-none touch-manipulation duration-300"
                        onClick={() => setShowInfo(false)}
                      >
                        &times;
                      </button>

                      <h2 className="font-cinzel text-3xl text-gold mb-10 text-center tracking-[0.2em] text-glow">{ALLERGIES.title[lang]}</h2>
                      <div className="font-rajdhani text-gray-400 leading-8 text-lg mb-10 text-justify font-light tracking-wide">
                        {ALLERGIES.text[lang]}
                      </div>
                      <div className="p-4 bg-white/[0.03] text-center text-xs text-gold/80 font-bold uppercase tracking-[0.2em] border border-gold/10 rounded-lg">
                          {ALLERGIES.service[lang]}
                      </div>
                    </div>
                  </div>
                )}
             </React.Fragment>
            )}
          </div>
        </React.Fragment>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
